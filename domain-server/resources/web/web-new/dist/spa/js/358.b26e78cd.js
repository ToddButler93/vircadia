"use strict";(globalThis["webpackChunkvircadia_domain_dashboard"]=globalThis["webpackChunkvircadia_domain_dashboard"]||[]).push([[358],{5593:(t,e,a)=>{a.d(e,{Z:()=>l});var n=a(7483),i=a(8563),s=function(t,e,a,n){function i(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,s){function o(t){try{l(n.next(t))}catch(e){s(e)}}function r(t){try{l(n["throw"](t))}catch(e){s(e)}}function l(t){t.done?a(t.value):i(t.value).then(o,r)}l((n=n.apply(t,e||[])).next())}))};const o=a(52),r=[],l={getValues(){return s(this,void 0,void 0,(function*(){let t={};try{const e="settings.json",a=yield(0,n.YW)(e);return t=a.values,t}catch(e){const t=(0,n.GD)(e);console.log(t)}return t}))},getDescriptions(){return s(this,void 0,void 0,(function*(){let t=[];try{const e="settings.json",a=yield(0,n.YW)(e);return t=a.descriptions,t}catch(e){const t=(0,n.GD)(e);console.log(t)}return t}))},commitSettings(t){return o.post("/settings.json",JSON.stringify(t)).then((()=>(i.Z.info(i.Z.types.DOMAIN,"Successfully committed settings."),!0))).catch((t=>(i.Z.error(i.Z.types.DOMAIN,`Failed to commit settings to Domain: ${t}`),!1)))},automaticCommitSettings(t){r.forEach(((t,e)=>{clearTimeout(t),r.splice(e,1)})),r.push(window.setTimeout(this.commitSettings,5e3,t))},createNewDomainID(t){return s(this,void 0,void 0,(function*(){try{const e=`label=${t}`,a=yield o.post("/api/domains",e);if("failure"===a.data.status)return"";const n=a.data.domain.domainId;return n}catch(e){return console.log(e),""}}))},getDomains(){return s(this,void 0,void 0,(function*(){let t=[];try{const e="api/domains",a=yield(0,n.YW)(e);return t=a.data.domains,t}catch(e){console.log(e)}return t}))}}},7483:(t,e,a)=>{a.d(e,{ge:()=>d,YW:()=>u,GD:()=>r});var n=a(52),i=a.n(n);const s="http://localhost:40100/";var o=function(t,e,a,n){function i(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,s){function o(t){try{l(n.next(t))}catch(e){s(e)}}function r(t){try{l(n["throw"](t))}catch(e){s(e)}}function l(t){t.done?a(t.value):i(t.value).then(o,r)}l((n=n.apply(t,e||[])).next())}))};function r(t){if("string"===typeof t)return t;const e=t;return"message"in e?e.message:`Error: ${JSON.stringify(t)}`}function l(t,e){return(null!==e&&void 0!==e?e:s)+t}function u(t,e){var a;return o(this,void 0,void 0,(function*(){const n=l(t,e);let s="";try{const e=yield i().get(n);if(e&&e.status){if(200===e.status)return e.data;s=`${null!==(a=e.statusText)&&void 0!==a?a:"unspecified"}`}else s=`Poorly formed response to GET ${t}: ${JSON.stringify(e)}`}catch(o){const e=r(o);s=`Exception on GET ${t}: ${e}`,console.log(s)}throw new Error(s)}))}function d(t,e){var a;return o(this,void 0,void 0,(function*(){const n=l(t,e);let s="";try{const e=yield i()["delete"](n);if(e&&e.status){if(200===e.status)return;s=`${null!==(a=e.statusText)&&void 0!==a?a:"unspecified"}`}else s=`Poorly formed response to DELETE ${t}: ${JSON.stringify(e)}`}catch(o){const e=r(o);s=`Exception on DELETE ${t}: ${e}`,console.log(s)}throw new Error(s)}))}},9358:(t,e,a)=>{a.r(e),a.d(e,{default:()=>q});var n=a(3673);const i={class:"q-pa-md"};function s(t,e,a,s,o,r){const l=(0,n.up)("AvatarsSettings");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(l)])}const o=(0,n._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Avatars",-1),r=(0,n._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Limits the height of avatars in your domain. Must be at least 0.009.",-1),l=(0,n._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Limits the height of avatars in your domain. Cannot be greater than 1755.",-1),u=(0,n._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Comma separated list of URLs (with optional paths) that avatar .fst files are allowed from. If someone attempts to use an avatar with a different domain, it will be rejected and the replacement avatar will be used. If left blank, any domain is allowed.",-1),d=(0,n._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"A URL for an avatar .fst to be used when someone tries to use an avatar that is not allowed. If left blank, the generic default avatar is used.",-1);function c(t,e,a,i,s,c){const v=(0,n.up)("q-separator"),m=(0,n.up)("q-input"),h=(0,n.up)("q-card-section"),f=(0,n.up)("q-card"),g=(0,n.up)("q-expansion-item");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(f,{class:"my-card"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[o,(0,n.Wm)(v),(0,n.Wm)(g,{modelValue:t.isWordPressSettingsToggled,"onUpdate:modelValue":e[4]||(e[4]=e=>t.isWordPressSettingsToggled=e),class:"q-mt-md text-subtitle1",popup:"",icon:"settings",label:"Advanced Settings"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.minAvatarHeight,"onUpdate:modelValue":e[0]||(e[0]=e=>t.minAvatarHeight=e),label:"Minimum Avatar Height (meters)"},null,8,["modelValue"]),r])),_:1}),(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.maxAvatarHeight,"onUpdate:modelValue":e[1]||(e[1]=e=>t.maxAvatarHeight=e),label:"Maximum Avatar Height (meters)"},null,8,["modelValue"]),l])),_:1}),(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.avatarWhitelist,"onUpdate:modelValue":e[2]||(e[2]=e=>t.avatarWhitelist=e),label:"Avatars Allowed From:"},null,8,["modelValue"]),u])),_:1}),(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.replacementAvatar,"onUpdate:modelValue":e[3]||(e[3]=e=>t.replacementAvatar=e),label:"Replacement Avatar For Disallowed Avatars"},null,8,["modelValue"]),d])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])}var v=a(5593),m=function(t,e,a,n){function i(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,s){function o(t){try{l(n.next(t))}catch(e){s(e)}}function r(t){try{l(n["throw"](t))}catch(e){s(e)}}function l(t){t.done?a(t.value):i(t.value).then(o,r)}l((n=n.apply(t,e||[])).next())}))};const h=(0,n.aZ)({name:"AvatarsSettings",data(){return{isWordPressSettingsToggled:!1,values:{},avatarHeightRange:{min:0,max:0}}},methods:{refreshSettingsValues(){return m(this,void 0,void 0,(function*(){this.values=yield v.Z.getValues()}))},saveSettings(){const t={avatars:{min_avatar_height:this.minAvatarHeight,max_avatar_height:this.maxAvatarHeight,avatar_whitelist:this.avatarWhitelist,replacement_avatar:this.replacementAvatar}};v.Z.automaticCommitSettings(t)}},computed:{minAvatarHeight:{get(){var t,e;return null!==(e=null===(t=this.values.avatars)||void 0===t?void 0:t.min_avatar_height)&&void 0!==e?e:.4},set(t){var e;"undefined"!==typeof(null===(e=this.values.avatars)||void 0===e?void 0:e.min_avatar_height)&&(this.values.avatars.min_avatar_height=t,this.saveSettings())}},maxAvatarHeight:{get(){var t,e;return null!==(e=null===(t=this.values.avatars)||void 0===t?void 0:t.max_avatar_height)&&void 0!==e?e:5.2},set(t){var e;"undefined"!==typeof(null===(e=this.values.avatars)||void 0===e?void 0:e.max_avatar_height)&&(this.values.avatars.max_avatar_height=t,this.saveSettings())}},avatarWhitelist:{get(){var t,e;return null!==(e=null===(t=this.values.avatars)||void 0===t?void 0:t.avatar_whitelist)&&void 0!==e?e:""},set(t){var e;"undefined"!==typeof(null===(e=this.values.avatars)||void 0===e?void 0:e.avatar_whitelist)&&(this.values.avatars.avatar_whitelist=t,this.saveSettings())}},replacementAvatar:{get(){var t,e;return null!==(e=null===(t=this.values.avatars)||void 0===t?void 0:t.replacement_avatar)&&void 0!==e?e:""},set(t){var e;"undefined"!==typeof(null===(e=this.values.avatars)||void 0===e?void 0:e.replacement_avatar)&&(this.values.avatars.replacement_avatar=t,this.saveSettings())}}},beforeMount(){this.refreshSettingsValues()}});var f=a(4260),g=a(151),p=a(5589),x=a(5869),y=a(429),w=a(4842),_=a(1391),b=a(7518),A=a.n(b);const S=(0,f.Z)(h,[["render",c]]),W=S;A()(h,"components",{QCard:g.Z,QCardSection:p.Z,QSeparator:x.Z,QExpansionItem:y.Z,QInput:w.Z,QRange:_.Z});const V=(0,n.aZ)({name:"Index",components:{AvatarsSettings:W}}),Z=(0,f.Z)(V,[["render",s]]),q=Z}}]);