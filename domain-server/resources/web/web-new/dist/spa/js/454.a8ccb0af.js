"use strict";(globalThis["webpackChunkvircadia_domain_dashboard"]=globalThis["webpackChunkvircadia_domain_dashboard"]||[]).push([[454],{2454:(e,t,s)=>{s.r(t),s.d(t,{default:()=>I});var a=s(3673);const r={class:"q-pa-sm"};function o(e,t,s,o,l,n){const d=(0,a.up)("BroadcastingSettings");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(d)])}var l=s(2323);const n=(0,a._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Broadcasting",-1),d=(0,a._)("p",{class:"q-mb-xs text-body1 text-weight-bold"},"Broadcasted Users",-1),i=(0,a._)("div",{class:"q-mt-xs text-caption text-grey-5"},"Users that are broadcasted to downstream servers.",-1),u=(0,a._)("p",{class:"q-mb-xs text-body1 text-weight-bold"},"Receiving Servers",-1),m=(0,a._)("div",{class:"q-mt-xs text-caption text-grey-5"},"Servers that receive data for broadcasted users.",-1),w=(0,a._)("p",{class:"q-mb-xs text-body1 text-weight-bold"},"Broadcasting Servers",-1),c=(0,a._)("div",{class:"q-mt-xs text-caption text-grey-5"},"Servers that broadcast data to this domain.",-1),p={class:"text-h6 text-bold text-white full-width"},v={class:"text-warning"},g=(0,a._)("p",{class:"text-body2"},"WARNING: This cannot be undone.",-1);function f(e,t,s,r,o,f){const h=(0,a.up)("q-separator"),_=(0,a.up)("q-th"),x=(0,a.up)("q-tr"),W=(0,a.up)("q-td"),b=(0,a.up)("q-btn"),y=(0,a.up)("q-input"),S=(0,a.up)("q-icon"),D=(0,a.up)("q-table"),k=(0,a.up)("q-card-section"),q=(0,a.up)("q-select"),V=(0,a.up)("q-card"),U=(0,a.up)("q-avatar"),R=(0,a.up)("q-card-actions"),N=(0,a.up)("q-dialog"),C=(0,a.up)("q-expansion-item");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(V,{class:"my-card q-ma-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[n,(0,a.Wm)(h),(0,a.Wm)(C,{modelValue:e.isWordPressSettingsToggled,"onUpdate:modelValue":t[13]||(t[13]=t=>e.isWordPressSettingsToggled=t),class:"q-mt-md text-subtitle1",popup:"",icon:"settings",label:"Advanced Settings"},{default:(0,a.w5)((()=>[(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[d,i,(0,a.Wm)(D,{dark:"",class:"bg-grey-9",rows:e.rows},{header:(0,a.w5)((()=>[(0,a.Wm)(x,{class:"bg-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("User")])),_:1}),(0,a.Wm)(_,{"auto-width":""})])),_:1})])),body:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.users,((t,s)=>((0,a.wg)(),(0,a.j4)(x,{key:t},{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t),1)])),_:2},1024),(0,a.Wm)(W,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{size:"sm",color:"negative",icon:"delete",class:"q-px-xs",onClick:a=>e.onShowConfirmDeleteDialogue("users",s,t),round:""},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),"bottom-row":(0,a.w5)((()=>[(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:e.newRowNames.users,"onUpdate:modelValue":t[0]||(t[0]=t=>e.newRowNames.users=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"New User",dense:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(W,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{onClick:t[1]||(t[1]=t=>e.onAddRow("users")),color:"positive"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{name:"add",size:"sm"})])),_:1})])),_:1})])),_:1})])),_:1},8,["rows"])])),_:1}),(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[u,m,(0,a.Wm)(D,{dark:"",class:"bg-grey-9",rows:e.rows},{header:(0,a.w5)((()=>[(0,a.Wm)(x,{class:"bg-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("Address")])),_:1}),(0,a.Wm)(_,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("Port")])),_:1}),(0,a.Wm)(_,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("Server Type")])),_:1}),(0,a.Wm)(_,{"auto-width":""})])),_:1})])),body:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.downstreamServers,((t,s)=>((0,a.wg)(),(0,a.j4)(x,{key:t.address},{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.address),1)])),_:2},1024),(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.port),1)])),_:2},1024),(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.server_type),1)])),_:2},1024),(0,a.Wm)(W,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{size:"sm",color:"negative",icon:"delete",class:"q-px-xs",onClick:a=>e.onShowConfirmDeleteDialogue("downstreamServers",s,t.address),round:""},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),"bottom-row":(0,a.w5)((()=>[(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:e.newRowNames.downstreamServers.address,"onUpdate:modelValue":t[2]||(t[2]=t=>e.newRowNames.downstreamServers.address=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"New Address",dense:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:e.newRowNames.downstreamServers.port,"onUpdate:modelValue":t[3]||(t[3]=t=>e.newRowNames.downstreamServers.port=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"New Port",dense:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(q,{standout:"bg-primary text-white",color:"primary",modelValue:e.newRowNames.downstreamServers.server_type,"onUpdate:modelValue":t[4]||(t[4]=t=>e.newRowNames.downstreamServers.server_type=t),options:e.serverTypeOptions,"transition-show":"jump-up","transition-hide":"jump-down",dense:""},null,8,["modelValue","options"])])),_:1}),(0,a.Wm)(W,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{onClick:t[5]||(t[5]=t=>e.onAddRow("downstreamServers")),color:"positive"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{name:"add",size:"sm"})])),_:1})])),_:1})])),_:1})])),_:1},8,["rows"])])),_:1}),(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[w,c,(0,a.Wm)(D,{dark:"",class:"bg-grey-9",rows:e.rows},{header:(0,a.w5)((()=>[(0,a.Wm)(x,{class:"bg-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("Address")])),_:1}),(0,a.Wm)(_,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("Port")])),_:1}),(0,a.Wm)(_,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("Server Type")])),_:1}),(0,a.Wm)(_,{"auto-width":""})])),_:1})])),body:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.upstreamServers,((t,s)=>((0,a.wg)(),(0,a.j4)(x,{key:t.address},{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.address),1)])),_:2},1024),(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.port),1)])),_:2},1024),(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.server_type),1)])),_:2},1024),(0,a.Wm)(W,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{size:"sm",color:"negative",icon:"delete",class:"q-px-xs",onClick:a=>e.onShowConfirmDeleteDialogue("upstreamServers",s,t.address),round:""},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),"bottom-row":(0,a.w5)((()=>[(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:e.newRowNames.upstreamServers.address,"onUpdate:modelValue":t[6]||(t[6]=t=>e.newRowNames.upstreamServers.address=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"New Address",dense:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:e.newRowNames.upstreamServers.port,"onUpdate:modelValue":t[7]||(t[7]=t=>e.newRowNames.upstreamServers.port=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"New Port",dense:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(q,{standout:"bg-primary text-white",color:"primary",modelValue:e.newRowNames.upstreamServers.server_type,"onUpdate:modelValue":t[8]||(t[8]=t=>e.newRowNames.upstreamServers.server_type=t),options:e.serverTypeOptions,"transition-show":"jump-up","transition-hide":"jump-down",dense:""},null,8,["modelValue","options"])])),_:1}),(0,a.Wm)(W,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{onClick:t[9]||(t[9]=t=>e.onAddRow("upstreamServers")),color:"positive"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{name:"add",size:"sm"})])),_:1})])),_:1})])),_:1})])),_:1},8,["rows"])])),_:1})])),_:1}),(0,a.Wm)(N,{modelValue:e.confirmDeleteDialogue.show,"onUpdate:modelValue":t[12]||(t[12]=t=>e.confirmDeleteDialogue.show=t),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{class:"bg-primary q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{class:"row items-center"},{default:(0,a.w5)((()=>[(0,a._)("p",p,[(0,a.Wm)(U,{icon:"mdi-alert",class:"q-mr-sm","text-color":"warning",size:"20px","font-size":"20px"}),(0,a.Uk)("Delete "),(0,a._)("span",v,(0,l.zw)(e.confirmDeleteDialogue.thingToDelete),1),(0,a.Uk)("?")]),g])),_:1}),(0,a.Wm)(R,{align:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{flat:"",label:"Cancel",onClick:t[10]||(t[10]=t=>e.onHideConfirmDeleteDialogue())}),(0,a.Wm)(b,{flat:"",label:"Delete",onClick:t[11]||(t[11]=t=>e.onDeleteRow(e.confirmDeleteDialogue.permissionType,e.confirmDeleteDialogue.index))})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])}var h=s(5593),_=function(e,t,s,a){function r(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,o){function l(e){try{d(a.next(e))}catch(t){o(t)}}function n(e){try{d(a["throw"](e))}catch(t){o(t)}}function d(e){e.done?s(e.value):r(e.value).then(l,n)}d((a=a.apply(e,t||[])).next())}))};const x=(0,a.aZ)({name:"BroadcastingSettings",data(){return{rows:[{}],isWordPressSettingsToggled:!1,values:{},serverTypeOptions:["Audio Mixer","Avatar Mixer "],newRowNames:{users:"",downstreamServers:{address:"",port:"",server_type:"Audio Mixer "},upstreamServers:{address:"",port:"",server_type:"Audio Mixer"}},confirmDeleteDialogue:{show:!1,thingToDelete:"",index:-1,permissionType:""}}},methods:{onShowConfirmDeleteDialogue(e,t,s){this.confirmDeleteDialogue={show:!0,thingToDelete:s,index:t,permissionType:e}},onHideConfirmDeleteDialogue(){this.confirmDeleteDialogue={show:!1,thingToDelete:"",index:-1,permissionType:""}},onDeleteRow(e,t){if(this.onHideConfirmDeleteDialogue(),"users"===e){const e=[...this.users];e.splice(t,1),this.users=e}else{const s=[...this[e]];s.splice(t,1),this[e]=s}},onAddRow(e){"users"===e?(this.users=[...this.users,this.newRowNames.users],this.newRowNames[e]=""):(this[e]=[...this[e],this.newRowNames[e]],this.newRowNames[e]={address:"",port:"",server_type:"Audio Mixer"})},refreshSettingsValues(){return _(this,void 0,void 0,(function*(){this.values=yield h.Z.getValues()}))},saveSettings(){const e={broadcasting:{users:this.users,downstream_servers:this.downstreamServers,upstream_servers:this.upstreamServers}};h.Z.automaticCommitSettings(e)}},computed:{users:{get(){var e,t;return null!==(t=null===(e=this.values.broadcasting)||void 0===e?void 0:e.users)&&void 0!==t?t:[]},set(e){var t;"undefined"!==typeof(null===(t=this.values.broadcasting)||void 0===t?void 0:t.users)&&(this.values.broadcasting.users=e,this.saveSettings())}},downstreamServers:{get(){var e,t;return null!==(t=null===(e=this.values.broadcasting)||void 0===e?void 0:e.downstream_servers)&&void 0!==t?t:[]},set(e){var t;"undefined"!==typeof(null===(t=this.values.broadcasting)||void 0===t?void 0:t.downstream_servers)&&(this.values.broadcasting.downstream_servers=e,this.saveSettings())}},upstreamServers:{get(){var e,t;return null!==(t=null===(e=this.values.broadcasting)||void 0===e?void 0:e.upstream_servers)&&void 0!==t?t:[]},set(e){var t;"undefined"!==typeof(null===(t=this.values.broadcasting)||void 0===t?void 0:t.upstream_servers)&&(this.values.broadcasting.upstream_servers=e,this.saveSettings())}}},beforeMount(){this.refreshSettingsValues()}});var W=s(4260),b=s(151),y=s(5589),S=s(5869),D=s(429),k=s(3350),q=s(8186),V=s(2414),U=s(3884),R=s(8240),N=s(4842),C=s(4554),T=s(7208),Z=s(6778),A=s(5096),z=s(9367),Q=s(7518),P=s.n(Q);const j=(0,W.Z)(x,[["render",f]]),B=j;P()(x,"components",{QCard:b.Z,QCardSection:y.Z,QSeparator:S.Z,QExpansionItem:D.Z,QTable:k.Z,QTr:q.Z,QTh:V.Z,QTd:U.Z,QBtn:R.Z,QInput:N.Z,QIcon:C.Z,QSelect:T.Z,QDialog:Z.Z,QAvatar:A.Z,QCardActions:z.Z});const H=(0,a.aZ)({name:"Index",components:{BroadcastingSettings:B}}),M=(0,W.Z)(H,[["render",o]]),I=M}}]);