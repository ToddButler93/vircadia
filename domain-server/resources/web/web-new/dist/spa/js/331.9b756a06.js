"use strict";(globalThis["webpackChunkvircadia_domain_dashboard"]=globalThis["webpackChunkvircadia_domain_dashboard"]||[]).push([[331],{5593:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(7483),o=s(8563),n=function(e,t,s,a){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,n){function l(e){try{r(a.next(e))}catch(t){n(t)}}function i(e){try{r(a["throw"](e))}catch(t){n(t)}}function r(e){e.done?s(e.value):o(e.value).then(l,i)}r((a=a.apply(e,t||[])).next())}))};const l=s(52),i=[],r={getValues(){return n(this,void 0,void 0,(function*(){let e={};try{const t="settings.json",s=yield(0,a.YW)(t);return e=s.values,e}catch(t){const e=(0,a.GD)(t);console.log(e)}return e}))},getDescriptions(){return n(this,void 0,void 0,(function*(){let e=[];try{const t="settings.json",s=yield(0,a.YW)(t);return e=s.descriptions,e}catch(t){const e=(0,a.GD)(t);console.log(e)}return e}))},commitSettings(e){return l.post("/settings.json",JSON.stringify(e)).then((()=>(o.Z.info(o.Z.types.DOMAIN,"Successfully committed settings."),!0))).catch((e=>(o.Z.error(o.Z.types.DOMAIN,`Failed to commit settings to Domain: ${e}`),!1)))},automaticCommitSettings(e){i.forEach(((e,t)=>{clearTimeout(e),i.splice(t,1)})),i.push(window.setTimeout(this.commitSettings,5e3,e))},createNewDomainID(e){return n(this,void 0,void 0,(function*(){try{const t=`label=${e}`,s=yield l.post("/api/domains",t);if("failure"===s.data.status)return"";const a=s.data.domain.domainId;return a}catch(t){return console.log(t),""}}))},getDomains(){return n(this,void 0,void 0,(function*(){let e=[];try{const t="api/domains",s=yield(0,a.YW)(t);return e=s.data.domains,e}catch(t){console.log(t)}return e}))}}},7483:(e,t,s)=>{s.d(t,{ge:()=>u,YW:()=>d,GD:()=>i});var a=s(52),o=s.n(a);const n="http://localhost:40100/";var l=function(e,t,s,a){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,n){function l(e){try{r(a.next(e))}catch(t){n(t)}}function i(e){try{r(a["throw"](e))}catch(t){n(t)}}function r(e){e.done?s(e.value):o(e.value).then(l,i)}r((a=a.apply(e,t||[])).next())}))};function i(e){if("string"===typeof e)return e;const t=e;return"message"in t?t.message:`Error: ${JSON.stringify(e)}`}function r(e,t){return(null!==t&&void 0!==t?t:n)+e}function d(e,t){var s;return l(this,void 0,void 0,(function*(){const a=r(e,t);let n="";try{const t=yield o().get(a);if(t&&t.status){if(200===t.status)return t.data;n=`${null!==(s=t.statusText)&&void 0!==s?s:"unspecified"}`}else n=`Poorly formed response to GET ${e}: ${JSON.stringify(t)}`}catch(l){const t=i(l);n=`Exception on GET ${e}: ${t}`,console.log(n)}throw new Error(n)}))}function u(e,t){var s;return l(this,void 0,void 0,(function*(){const a=r(e,t);let n="";try{const t=yield o()["delete"](a);if(t&&t.status){if(200===t.status)return;n=`${null!==(s=t.statusText)&&void 0!==s?s:"unspecified"}`}else n=`Poorly formed response to DELETE ${e}: ${JSON.stringify(t)}`}catch(l){const t=i(l);n=`Exception on DELETE ${e}: ${t}`,console.log(n)}throw new Error(n)}))}},2331:(e,t,s)=>{s.r(t),s.d(t,{default:()=>de});var a=s(3673);const o={class:"q-pa-md"};function n(e,t,s,n,l,i){const r=(0,a.up)("DescriptionSettings"),d=(0,a.up)("BroadcastingSettings");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(r),(0,a.Wm)(d)])}var l=s(2323);const i=(0,a._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Description",-1),r=(0,a._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"The name of your domain (256 character limit).",-1),d=(0,a._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"A description of your domain (256 character limit).",-1),u=(0,a._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"A link to the thumbnail that is publicly accessible from the internet.",-1),m=(0,a._)("p",{class:"q-mb-xs text-body1 text-weight-bold"},"World Images",-1),c=(0,a._)("div",{class:"q-mt-xs text-caption text-grey-5"},"URLs to images that visually describe your world to potential visitors.",-1),w=(0,a._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"A maturity rating, available as a guideline for content on your domain.",-1),p=(0,a._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Contact information to reach server administrators for assistance (256 character limit).",-1),g=(0,a._)("p",{class:"q-mb-xs text-body1 text-weight-bold"},"World Managers / Administrators",-1),v=(0,a._)("div",{class:"q-mt-xs text-caption text-grey-5"},"Usernames of managers that administrate the domain.",-1),f=(0,a._)("p",{class:"q-mb-xs text-body1 text-weight-bold"},"Category Tags",-1),h=(0,a._)("div",{class:"q-mt-xs text-caption text-grey-5"},"Common categories under which your domain falls.",-1),x={class:"text-h6 text-bold text-white full-width"},y={class:"text-warning"},_=(0,a._)("p",{class:"text-body2"},"WARNING: This cannot be undone.",-1);function W(e,t,s,o,n,W){const b=(0,a.up)("q-separator"),D=(0,a.up)("q-input"),S=(0,a.up)("q-card-section"),q=(0,a.up)("q-th"),V=(0,a.up)("q-tr"),k=(0,a.up)("q-td"),C=(0,a.up)("q-btn"),U=(0,a.up)("q-icon"),T=(0,a.up)("q-table"),N=(0,a.up)("q-select"),R=(0,a.up)("q-card"),Z=(0,a.up)("q-avatar"),A=(0,a.up)("q-card-actions"),Q=(0,a.up)("q-dialog"),z=(0,a.up)("q-expansion-item");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(R,{class:"my-card"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[i,(0,a.Wm)(b),(0,a.Wm)(z,{modelValue:e.isWordPressSettingsToggled,"onUpdate:modelValue":t[14]||(t[14]=t=>e.isWordPressSettingsToggled=t),class:"q-mt-md text-subtitle1",popup:"",icon:"settings",label:"Advanced Settings"},{default:(0,a.w5)((()=>[(0,a.Wm)(R,null,{default:(0,a.w5)((()=>[(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:e.worldName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.worldName=t),label:"Name"},null,8,["modelValue"]),r])),_:1}),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:e.description,"onUpdate:modelValue":t[1]||(t[1]=t=>e.description=t),label:"Description"},null,8,["modelValue"]),d])),_:1}),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:e.thumbnail,"onUpdate:modelValue":t[2]||(t[2]=t=>e.thumbnail=t),label:"World Thumbnail"},null,8,["modelValue"]),u])),_:1}),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[m,c,(0,a.Wm)(T,{dark:"",class:"bg-grey-9",rows:e.rows},{header:(0,a.w5)((()=>[(0,a.Wm)(V,{class:"bg-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(q,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("Image URL")])),_:1}),(0,a.Wm)(q,{"auto-width":""})])),_:1})])),body:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.images,((t,s)=>((0,a.wg)(),(0,a.j4)(V,{key:t},{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t),1)])),_:2},1024),(0,a.Wm)(k,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{size:"sm",color:"negative",icon:"delete",class:"q-px-xs",onClick:a=>e.onShowConfirmDeleteDialogue("images",s,t),round:""},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),"bottom-row":(0,a.w5)((()=>[(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{modelValue:e.newRowNames.images,"onUpdate:modelValue":t[3]||(t[3]=t=>e.newRowNames.images=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"New Image URL",dense:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(k,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{onClick:t[4]||(t[4]=t=>e.onAddRow("images")),color:"positive"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{name:"add",size:"sm"})])),_:1})])),_:1})])),_:1})])),_:1},8,["rows"])])),_:1}),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)(N,{standout:"bg-primary text-white",color:"primary","emit-value":"","map-options":"",modelValue:e.maturity,"onUpdate:modelValue":t[5]||(t[5]=t=>e.maturity=t),options:e.maturityOptions,label:"Maturity Rating","transition-show":"jump-up","transition-hide":"jump-down"},{prepend:(0,a.w5)((()=>[(0,a.Wm)(U,{name:"diversity_3"})])),_:1},8,["modelValue","options"]),w])),_:1}),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:e.contactInfo,"onUpdate:modelValue":t[6]||(t[6]=t=>e.contactInfo=t),label:"World Administrative Contact"},null,8,["modelValue"]),p])),_:1}),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[g,v,(0,a.Wm)(T,{dark:"",class:"bg-grey-9",rows:e.rows},{header:(0,a.w5)((()=>[(0,a.Wm)(V,{class:"bg-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(q,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("Username")])),_:1}),(0,a.Wm)(q,{"auto-width":""})])),_:1})])),body:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.managers,((t,s)=>((0,a.wg)(),(0,a.j4)(V,{key:t},{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t),1)])),_:2},1024),(0,a.Wm)(k,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{size:"sm",color:"negative",icon:"delete",class:"q-px-xs",onClick:a=>e.onShowConfirmDeleteDialogue("managers",s,t),round:""},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),"bottom-row":(0,a.w5)((()=>[(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{modelValue:e.newRowNames.managers,"onUpdate:modelValue":t[7]||(t[7]=t=>e.newRowNames.managers=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"Add Manager/Admin Username",dense:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(k,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{onClick:t[8]||(t[8]=t=>e.onAddRow("managers")),color:"positive"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{name:"add",size:"sm"})])),_:1})])),_:1})])),_:1})])),_:1},8,["rows"])])),_:1}),(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[f,h,(0,a.Wm)(T,{dark:"",class:"bg-grey-9",rows:e.rows},{header:(0,a.w5)((()=>[(0,a.Wm)(V,{class:"bg-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(q,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("Category Tag")])),_:1}),(0,a.Wm)(q,{"auto-width":""})])),_:1})])),body:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.tags,((t,s)=>((0,a.wg)(),(0,a.j4)(V,{key:t},{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t),1)])),_:2},1024),(0,a.Wm)(k,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{size:"sm",color:"negative",icon:"delete",class:"q-px-xs",onClick:a=>e.onShowConfirmDeleteDialogue("tags",s,t),round:""},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),"bottom-row":(0,a.w5)((()=>[(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D,{modelValue:e.newRowNames.tags,"onUpdate:modelValue":t[9]||(t[9]=t=>e.newRowNames.tags=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"Add a New Tag",dense:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(k,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{onClick:t[10]||(t[10]=t=>e.onAddRow("tags")),color:"positive"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{name:"add",size:"sm"})])),_:1})])),_:1})])),_:1})])),_:1},8,["rows"])])),_:1})])),_:1}),(0,a.Wm)(Q,{modelValue:e.confirmDeleteDialogue.show,"onUpdate:modelValue":t[13]||(t[13]=t=>e.confirmDeleteDialogue.show=t),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(R,{class:"bg-primary q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{class:"row items-center"},{default:(0,a.w5)((()=>[(0,a._)("p",x,[(0,a.Wm)(Z,{icon:"mdi-alert",class:"q-mr-sm","text-color":"warning",size:"20px","font-size":"20px"}),(0,a.Uk)("Delete "),(0,a._)("span",y,(0,l.zw)(e.confirmDeleteDialogue.thingToDelete),1),(0,a.Uk)("?")]),_])),_:1}),(0,a.Wm)(A,{align:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{flat:"",label:"Cancel",onClick:t[11]||(t[11]=t=>e.onHideConfirmDeleteDialogue())}),(0,a.Wm)(C,{flat:"",label:"Delete",onClick:t[12]||(t[12]=t=>e.onDeleteRow(e.confirmDeleteDialogue.settingType,e.confirmDeleteDialogue.index))})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])}var b=s(5593),D=function(e,t,s,a){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,n){function l(e){try{r(a.next(e))}catch(t){n(t)}}function i(e){try{r(a["throw"](e))}catch(t){n(t)}}function r(e){e.done?s(e.value):o(e.value).then(l,i)}r((a=a.apply(e,t||[])).next())}))};const S=(0,a.aZ)({name:"DescriptionSettings",data(){return{rows:[{}],isWordPressSettingsToggled:!1,values:{},newRowNames:{images:"",managers:"",tags:""},confirmDeleteDialogue:{show:!1,thingToDelete:"",index:-1,settingType:""},maturityOptions:[{label:"Unrated",value:"unrated"},{label:"Everyone",value:"everyone"},{label:"Teen (13+)",value:"teen"},{label:"Mature (17+)",value:"mature"},{label:"Adult (18+)",value:"adult"}]}},methods:{onShowConfirmDeleteDialogue(e,t,s){this.confirmDeleteDialogue={show:!0,thingToDelete:s,index:t,settingType:e}},onHideConfirmDeleteDialogue(){this.confirmDeleteDialogue={show:!1,thingToDelete:"",index:-1,settingType:""}},onDeleteRow(e,t){this.onHideConfirmDeleteDialogue();const s=[...this[e]];s.splice(t,1),this[e]=[...s]},onAddRow(e){const t=[...this[e],this.newRowNames[e]];this[e]=[...t],this.newRowNames[e]=""},refreshSettingsValues(){return D(this,void 0,void 0,(function*(){this.values=yield b.Z.getValues()}))},saveSettings(){const e={descriptors:{world_name:this.worldName,description:this.description,thumbnail:this.thumbnail,images:this.images,maturity:this.maturity,contact_info:this.contactInfo,managers:this.managers,tags:this.tags}};b.Z.automaticCommitSettings(e)}},computed:{worldName:{get(){var e,t;return null!==(t=null===(e=this.values.descriptors)||void 0===e?void 0:e.world_name)&&void 0!==t?t:"error"},set(e){var t;"undefined"!==typeof(null===(t=this.values.descriptors)||void 0===t?void 0:t.world_name)&&(this.values.descriptors.world_name=e,this.saveSettings())}},description:{get(){var e,t;return null!==(t=null===(e=this.values.descriptors)||void 0===e?void 0:e.description)&&void 0!==t?t:"error"},set(e){var t;"undefined"!==typeof(null===(t=this.values.descriptors)||void 0===t?void 0:t.description)&&(this.values.descriptors.description=e,this.saveSettings())}},thumbnail:{get(){var e,t;return null!==(t=null===(e=this.values.descriptors)||void 0===e?void 0:e.thumbnail)&&void 0!==t?t:"error"},set(e){var t;"undefined"!==typeof(null===(t=this.values.descriptors)||void 0===t?void 0:t.thumbnail)&&(this.values.descriptors.thumbnail=e,this.saveSettings())}},images:{get(){var e,t;return null!==(t=null===(e=this.values.descriptors)||void 0===e?void 0:e.images)&&void 0!==t?t:[]},set(e){var t;"undefined"!==typeof(null===(t=this.values.descriptors)||void 0===t?void 0:t.images)&&(this.values.descriptors.images=e,this.saveSettings())}},maturity:{get(){var e,t;return null!==(t=null===(e=this.values.descriptors)||void 0===e?void 0:e.maturity)&&void 0!==t?t:"error"},set(e){var t;"undefined"!==typeof(null===(t=this.values.descriptors)||void 0===t?void 0:t.maturity)&&(this.values.descriptors.maturity=e,this.saveSettings())}},contactInfo:{get(){var e,t;return null!==(t=null===(e=this.values.descriptors)||void 0===e?void 0:e.contact_info)&&void 0!==t?t:"error"},set(e){var t;"undefined"!==typeof(null===(t=this.values.descriptors)||void 0===t?void 0:t.contact_info)&&(this.values.descriptors.contact_info=e,this.saveSettings())}},managers:{get(){var e,t;return null!==(t=null===(e=this.values.descriptors)||void 0===e?void 0:e.managers)&&void 0!==t?t:[]},set(e){var t;"undefined"!==typeof(null===(t=this.values.descriptors)||void 0===t?void 0:t.managers)&&(this.values.descriptors.managers=e,this.saveSettings())}},tags:{get(){var e,t;return null!==(t=null===(e=this.values.descriptors)||void 0===e?void 0:e.tags)&&void 0!==t?t:[]},set(e){var t;"undefined"!==typeof(null===(t=this.values.descriptors)||void 0===t?void 0:t.tags)&&(this.values.descriptors.tags=e,this.saveSettings())}}},beforeMount(){this.refreshSettingsValues()}});var q=s(4260),V=s(151),k=s(5589),C=s(5869),U=s(429),T=s(4842),N=s(3350),R=s(8186),Z=s(2414),A=s(3884),Q=s(8240),z=s(4554),I=s(7208),E=s(6778),P=s(5096),j=s(9367),M=s(7518),$=s.n(M);const H=(0,q.Z)(S,[["render",W]]),O=H;$()(S,"components",{QCard:V.Z,QCardSection:k.Z,QSeparator:C.Z,QExpansionItem:U.Z,QInput:T.Z,QTable:N.Z,QTr:R.Z,QTh:Z.Z,QTd:A.Z,QBtn:Q.Z,QIcon:z.Z,QSelect:I.Z,QDialog:E.Z,QAvatar:P.Z,QCardActions:j.Z});const Y=(0,a._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Broadcasting",-1),B=(0,a._)("p",{class:"q-mb-xs text-body1 text-weight-bold"},"Broadcasted Users",-1),G=(0,a._)("div",{class:"q-mt-xs text-caption text-grey-5"},"Users that are broadcasted to downstream servers.",-1),K=(0,a._)("p",{class:"q-mb-xs text-body1 text-weight-bold"},"Receiving Servers",-1),L=(0,a._)("div",{class:"q-mt-xs text-caption text-grey-5"},"Servers that receive data for broadcasted users.",-1),J=(0,a._)("p",{class:"q-mb-xs text-body1 text-weight-bold"},"Broadcasting Servers",-1),F=(0,a._)("div",{class:"q-mt-xs text-caption text-grey-5"},"Servers that broadcast data to this domain.",-1),X={class:"text-h6 text-bold text-white full-width"},ee={class:"text-warning"},te=(0,a._)("p",{class:"text-body2"},"WARNING: This cannot be undone.",-1);function se(e,t,s,o,n,i){const r=(0,a.up)("q-separator"),d=(0,a.up)("q-th"),u=(0,a.up)("q-tr"),m=(0,a.up)("q-td"),c=(0,a.up)("q-btn"),w=(0,a.up)("q-input"),p=(0,a.up)("q-icon"),g=(0,a.up)("q-table"),v=(0,a.up)("q-card-section"),f=(0,a.up)("q-select"),h=(0,a.up)("q-card"),x=(0,a.up)("q-avatar"),y=(0,a.up)("q-card-actions"),_=(0,a.up)("q-dialog"),W=(0,a.up)("q-expansion-item");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(h,{class:"my-card q-mt-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[Y,(0,a.Wm)(r),(0,a.Wm)(W,{modelValue:e.isWordPressSettingsToggled,"onUpdate:modelValue":t[13]||(t[13]=t=>e.isWordPressSettingsToggled=t),class:"q-mt-md text-subtitle1",popup:"",icon:"settings",label:"Advanced Settings"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[B,G,(0,a.Wm)(g,{dark:"",class:"bg-grey-9",rows:e.rows},{header:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"bg-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("User")])),_:1}),(0,a.Wm)(d,{"auto-width":""})])),_:1})])),body:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.users,((t,s)=>((0,a.wg)(),(0,a.j4)(u,{key:t},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t),1)])),_:2},1024),(0,a.Wm)(m,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{size:"sm",color:"negative",icon:"delete",class:"q-px-xs",onClick:a=>e.onShowConfirmDeleteDialogue("users",s,t),round:""},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),"bottom-row":(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{modelValue:e.newRowNames.users,"onUpdate:modelValue":t[0]||(t[0]=t=>e.newRowNames.users=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"New User",dense:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{onClick:t[1]||(t[1]=t=>e.onAddRow("users")),color:"positive"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"add",size:"sm"})])),_:1})])),_:1})])),_:1})])),_:1},8,["rows"])])),_:1}),(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[K,L,(0,a.Wm)(g,{dark:"",class:"bg-grey-9",rows:e.rows},{header:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"bg-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("Address")])),_:1}),(0,a.Wm)(d,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("Port")])),_:1}),(0,a.Wm)(d,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("Server Type")])),_:1}),(0,a.Wm)(d,{"auto-width":""})])),_:1})])),body:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.downstreamServers,((t,s)=>((0,a.wg)(),(0,a.j4)(u,{key:t.address},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.address),1)])),_:2},1024),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.port),1)])),_:2},1024),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.server_type),1)])),_:2},1024),(0,a.Wm)(m,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{size:"sm",color:"negative",icon:"delete",class:"q-px-xs",onClick:a=>e.onShowConfirmDeleteDialogue("downstreamServers",s,t.address),round:""},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),"bottom-row":(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{modelValue:e.newRowNames.downstreamServers.address,"onUpdate:modelValue":t[2]||(t[2]=t=>e.newRowNames.downstreamServers.address=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"New Address",dense:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{modelValue:e.newRowNames.downstreamServers.port,"onUpdate:modelValue":t[3]||(t[3]=t=>e.newRowNames.downstreamServers.port=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"New Port",dense:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,{standout:"bg-primary text-white",color:"primary",modelValue:e.newRowNames.downstreamServers.server_type,"onUpdate:modelValue":t[4]||(t[4]=t=>e.newRowNames.downstreamServers.server_type=t),options:e.serverTypeOptions,"transition-show":"jump-up","transition-hide":"jump-down",dense:""},null,8,["modelValue","options"])])),_:1}),(0,a.Wm)(m,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{onClick:t[5]||(t[5]=t=>e.onAddRow("downstreamServers")),color:"positive"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"add",size:"sm"})])),_:1})])),_:1})])),_:1})])),_:1},8,["rows"])])),_:1}),(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[J,F,(0,a.Wm)(g,{dark:"",class:"bg-grey-9",rows:e.rows},{header:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"bg-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("Address")])),_:1}),(0,a.Wm)(d,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("Port")])),_:1}),(0,a.Wm)(d,{class:"text-left"},{default:(0,a.w5)((()=>[(0,a.Uk)("Server Type")])),_:1}),(0,a.Wm)(d,{"auto-width":""})])),_:1})])),body:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.upstreamServers,((t,s)=>((0,a.wg)(),(0,a.j4)(u,{key:t.address},{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.address),1)])),_:2},1024),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.port),1)])),_:2},1024),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.server_type),1)])),_:2},1024),(0,a.Wm)(m,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{size:"sm",color:"negative",icon:"delete",class:"q-px-xs",onClick:a=>e.onShowConfirmDeleteDialogue("upstreamServers",s,t.address),round:""},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),"bottom-row":(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{modelValue:e.newRowNames.upstreamServers.address,"onUpdate:modelValue":t[6]||(t[6]=t=>e.newRowNames.upstreamServers.address=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"New Address",dense:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{modelValue:e.newRowNames.upstreamServers.port,"onUpdate:modelValue":t[7]||(t[7]=t=>e.newRowNames.upstreamServers.port=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"New Port",dense:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,{standout:"bg-primary text-white",color:"primary",modelValue:e.newRowNames.upstreamServers.server_type,"onUpdate:modelValue":t[8]||(t[8]=t=>e.newRowNames.upstreamServers.server_type=t),options:e.serverTypeOptions,"transition-show":"jump-up","transition-hide":"jump-down",dense:""},null,8,["modelValue","options"])])),_:1}),(0,a.Wm)(m,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{onClick:t[9]||(t[9]=t=>e.onAddRow("upstreamServers")),color:"positive"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"add",size:"sm"})])),_:1})])),_:1})])),_:1})])),_:1},8,["rows"])])),_:1})])),_:1}),(0,a.Wm)(_,{modelValue:e.confirmDeleteDialogue.show,"onUpdate:modelValue":t[12]||(t[12]=t=>e.confirmDeleteDialogue.show=t),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{class:"bg-primary q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{class:"row items-center"},{default:(0,a.w5)((()=>[(0,a._)("p",X,[(0,a.Wm)(x,{icon:"mdi-alert",class:"q-mr-sm","text-color":"warning",size:"20px","font-size":"20px"}),(0,a.Uk)("Delete "),(0,a._)("span",ee,(0,l.zw)(e.confirmDeleteDialogue.thingToDelete),1),(0,a.Uk)("?")]),te])),_:1}),(0,a.Wm)(y,{align:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{flat:"",label:"Cancel",onClick:t[10]||(t[10]=t=>e.onHideConfirmDeleteDialogue())}),(0,a.Wm)(c,{flat:"",label:"Delete",onClick:t[11]||(t[11]=t=>e.onDeleteRow(e.confirmDeleteDialogue.permissionType,e.confirmDeleteDialogue.index))})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1})])),_:1})])}var ae=function(e,t,s,a){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,n){function l(e){try{r(a.next(e))}catch(t){n(t)}}function i(e){try{r(a["throw"](e))}catch(t){n(t)}}function r(e){e.done?s(e.value):o(e.value).then(l,i)}r((a=a.apply(e,t||[])).next())}))};const oe=(0,a.aZ)({name:"BroadcastingSettings",data(){return{rows:[{}],isWordPressSettingsToggled:!1,values:{},serverTypeOptions:["Audio Mixer","Avatar Mixer "],newRowNames:{users:"",downstreamServers:{address:"",port:"",server_type:"Audio Mixer "},upstreamServers:{address:"",port:"",server_type:"Audio Mixer"}},confirmDeleteDialogue:{show:!1,thingToDelete:"",index:-1,permissionType:""}}},methods:{onShowConfirmDeleteDialogue(e,t,s){this.confirmDeleteDialogue={show:!0,thingToDelete:s,index:t,permissionType:e}},onHideConfirmDeleteDialogue(){this.confirmDeleteDialogue={show:!1,thingToDelete:"",index:-1,permissionType:""}},onDeleteRow(e,t){if(this.onHideConfirmDeleteDialogue(),"users"===e){const e=[...this.users];e.splice(t,1),this.users=e}else{const s=[...this[e]];s.splice(t,1),this[e]=s}},onAddRow(e){"users"===e?(this.users=[...this.users,this.newRowNames.users],this.newRowNames[e]=""):(this[e]=[...this[e],this.newRowNames[e]],this.newRowNames[e]={address:"",port:"",server_type:"Audio Mixer"})},refreshSettingsValues(){return ae(this,void 0,void 0,(function*(){this.values=yield b.Z.getValues()}))},saveSettings(){const e={broadcasting:{users:this.users,downstream_servers:this.downstreamServers,upstream_servers:this.upstreamServers}};b.Z.automaticCommitSettings(e)}},computed:{users:{get(){var e,t;return null!==(t=null===(e=this.values.broadcasting)||void 0===e?void 0:e.users)&&void 0!==t?t:[]},set(e){var t;"undefined"!==typeof(null===(t=this.values.broadcasting)||void 0===t?void 0:t.users)&&(this.values.broadcasting.users=e,this.saveSettings())}},downstreamServers:{get(){var e,t;return null!==(t=null===(e=this.values.broadcasting)||void 0===e?void 0:e.downstream_servers)&&void 0!==t?t:[]},set(e){var t;"undefined"!==typeof(null===(t=this.values.broadcasting)||void 0===t?void 0:t.downstream_servers)&&(this.values.broadcasting.downstream_servers=e,this.saveSettings())}},upstreamServers:{get(){var e,t;return null!==(t=null===(e=this.values.broadcasting)||void 0===e?void 0:e.upstream_servers)&&void 0!==t?t:[]},set(e){var t;"undefined"!==typeof(null===(t=this.values.broadcasting)||void 0===t?void 0:t.upstream_servers)&&(this.values.broadcasting.upstream_servers=e,this.saveSettings())}}},beforeMount(){this.refreshSettingsValues()}}),ne=(0,q.Z)(oe,[["render",se]]),le=ne;$()(oe,"components",{QCard:V.Z,QCardSection:k.Z,QSeparator:C.Z,QExpansionItem:U.Z,QTable:N.Z,QTr:R.Z,QTh:Z.Z,QTd:A.Z,QBtn:Q.Z,QInput:T.Z,QIcon:z.Z,QSelect:I.Z,QDialog:E.Z,QAvatar:P.Z,QCardActions:j.Z});const ie=(0,a.aZ)({name:"Index",components:{DescriptionSettings:O,BroadcastingSettings:le}}),re=(0,q.Z)(ie,[["render",n]]),de=re}}]);