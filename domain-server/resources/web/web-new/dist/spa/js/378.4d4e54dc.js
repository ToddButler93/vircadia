(globalThis["webpackChunkvircadia_domain_dashboard"]=globalThis["webpackChunkvircadia_domain_dashboard"]||[]).push([[378],{1162:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>lt});var l=a(3673);const n={class:"q-pa-md"};function s(e,t,a,s,o,i){const u=(0,l.up)("InstalledContent"),r=(0,l.up)("ContentArchives"),d=(0,l.up)("UploadContent"),c=(0,l.up)("Paths"),m=(0,l.up)("Scripts"),p=(0,l.up)("AudioEnvironment");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(u),(0,l.Wm)(r),(0,l.Wm)(d),(0,l.Wm)(c),(0,l.Wm)(m),(0,l.Wm)(p)])}var o=a(2323);const i=(0,l._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Installed Content",-1);function u(e,t,a,n,s,u){const r=(0,l.up)("q-separator"),d=(0,l.up)("q-th"),c=(0,l.up)("q-tr"),m=(0,l.up)("q-td"),p=(0,l.up)("q-table"),w=(0,l.up)("q-card-section"),h=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(h,{class:"my-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[i,(0,l.Wm)(r),(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{dark:"",class:"bg-grey-9",rows:e.rows,"hide-pagination":"",separator:"vertical"},{header:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"bg-primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Name")])),_:1}),(0,l.Wm)(d,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("File Name")])),_:1}),(0,l.Wm)(d,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Created")])),_:1}),(0,l.Wm)(d,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Installed")])),_:1}),(0,l.Wm)(d,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Installed By")])),_:1})])),_:1})])),body:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.installedContentName),1)])),_:1}),(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.installedContentFileName),1)])),_:1}),(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.installedContentCreationTime),1)])),_:1}),(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.installedContentInstallTime),1)])),_:1}),(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.installedContentInstalledBy),1)])),_:1})])),_:1})])),_:1},8,["rows"])])),_:1})])),_:1})])),_:1})])),_:1})])}var r=a(1488),d=a.n(r),c=a(7483),m=a(8563),p=function(e,t,a,l){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{u(l.next(e))}catch(t){s(t)}}function i(e){try{u(l["throw"](e))}catch(t){s(t)}}function u(e){e.done?a(e.value):n(e.value).then(o,i)}u((l=l.apply(e,t||[])).next())}))};const w=a(52),h=[],f={getValues(){return p(this,void 0,void 0,(function*(){let e={};try{const t="content-settings.json",a=yield(0,c.YW)(t);return e=a.values,e}catch(t){const e=(0,c.GD)(t);console.log(`Exception while attempting to get content-settings: ${e}`)}return e}))},commitSettings(e){return w.post("/content-settings.json",JSON.stringify(e)).then((()=>(m.Z.info(m.Z.types.DOMAIN,"Successfully committed settings."),!0))).catch((e=>(m.Z.error(m.Z.types.DOMAIN,`Failed to commit settings to Domain: ${e}`),!1)))},automaticCommitSettings(e){h.forEach(((e,t)=>{clearTimeout(e),h.splice(t,1)})),h.push(window.setTimeout(this.commitSettings,5e3,e))}};var g=function(e,t,a,l){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{u(l.next(e))}catch(t){s(t)}}function i(e){try{u(l["throw"](e))}catch(t){s(t)}}function u(e){e.done?a(e.value):n(e.value).then(o,i)}u((l=l.apply(e,t||[])).next())}))};const _=(0,l.aZ)({name:"InstalledContent",data(){return{rows:[{}],installedContentName:"",installedContentFileName:"",installedContentCreationTime:"",installedContentInstallTime:"",installedContentInstalledBy:""}},methods:{intializeInstalledContentSettings(){var e,t,a,l,n,s,o,i,u,r;return g(this,void 0,void 0,(function*(){const c=yield f.getValues();this.installedContentName=null!==(t=null===(e=c.installed_content)||void 0===e?void 0:e.name)&&void 0!==t?t:"",this.installedContentFileName=null!==(l=null===(a=c.installed_content)||void 0===a?void 0:a.filename)&&void 0!==l?l:"",this.installedContentCreationTime=(null===(n=c.installed_content)||void 0===n?void 0:n.creation_time)?d()(null===(s=c.installed_content)||void 0===s?void 0:s.creation_time).format("lll"):"",this.installedContentInstallTime=(null===(o=c.installed_content)||void 0===o?void 0:o.install_time)?d()(null===(i=c.installed_content)||void 0===i?void 0:i.install_time).format("lll"):"",this.installedContentInstalledBy=null!==(r=null===(u=c.installed_content)||void 0===u?void 0:u.installed_by)&&void 0!==r?r:""}))}},beforeMount(){this.intializeInstalledContentSettings()}});var v=a(4260),b=a(151),x=a(5589),W=a(5869),k=a(3350),D=a(8186),y=a(2414),j=a(3884),C=a(7518),q=a.n(C);const U=(0,v.Z)(_,[["render",u]]),Z=U;q()(_,"components",{QCard:b.Z,QCardSection:x.Z,QSeparator:W.Z,QTable:k.Z,QTr:D.Z,QTh:y.Z,QTd:j.Z});const S=(0,l._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Content Archives",-1),z=(0,l._)("p",{class:"q-mb-xs text-body1 text-weight-bold"},"Automatic Content Archives",-1),A=(0,l._)("div",{class:"q-mt-xs text-caption text-grey-5"},[(0,l.Uk)("Your domain server makes regular archives of the content in your domain. In the list below, you can see and download all of your backups of domain content and content settings."),(0,l._)("a",{class:"text-primary",href:"#/backup-restore"},"Click here to manage automatic content archive intervals.")],-1),Q=(0,l._)("p",{class:"q-mb-xs text-body1 text-weight-bold"},"Manual Content Archives",-1),V=(0,l._)("div",{class:"q-mt-xs text-caption text-grey-5"},"You can generate and download an archive of your domain content right now. You can also download, delete and restore any archive listed.",-1),N=(0,l._)("span",{class:"text-h5 q-mb-sm text-bold text-white"},"Generate a Content Archive",-1),T=(0,l._)("span",{class:"text-body2"},"This will capture the state of all the content in your domain right now, which you can save as a backup and restore from later.",-1),P={class:"text-h6 text-bold text-white full-width"},I={class:"text-warning"},B=(0,l._)("p",{class:"text-body2"},"WARNING: This cannot be undone.",-1);function M(e,t,a,n,s,i){const u=(0,l.up)("q-separator"),r=(0,l.up)("q-th"),d=(0,l.up)("q-tr"),c=(0,l.up)("q-td"),m=(0,l.up)("q-tooltip"),p=(0,l.up)("q-btn"),w=(0,l.up)("q-btn-group"),h=(0,l.up)("q-table"),f=(0,l.up)("q-card-section"),g=(0,l.up)("q-input"),_=(0,l.up)("q-card-actions"),v=(0,l.up)("q-form"),b=(0,l.up)("q-card"),x=(0,l.up)("q-dialog"),W=(0,l.up)("q-avatar"),k=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(b,{class:"my-card q-mt-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[S,(0,l.Wm)(u),(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[z,A,(0,l.Wm)(h,{dark:"",class:"bg-grey-9",rows:e.rows,"hide-pagination":""},{header:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"bg-primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Archive Name")])),_:1}),(0,l.Wm)(r,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Archive Date")])),_:1}),(0,l.Wm)(r,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Status")])),_:1}),(0,l.Wm)(r,{"auto-width":""},{default:(0,l.w5)((()=>[(0,l.Uk)("Actions")])),_:1})])),_:1})])),body:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.automaticBackupList,(t=>((0,l.wg)(),(0,l.j4)(d,{key:t.id,style:(0,o.j5)([t.isCorrupted?"background-color: #935757":""])},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t.name),1)])),_:2},1024),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.formatDate(t.createdAtMillis)),1)])),_:2},1024),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t.isCorrupted?"Corrupted":""),1)])),_:2},1024),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{disable:t.isCorrupted,flat:"",dense:"",icon:"restore"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:""},{default:(0,l.w5)((()=>[(0,l.Uk)("Restore Content")])),_:1})])),_:2},1032,["disable"]),(0,l.Wm)(p,{flat:"",dense:"",icon:"download_for_offline",href:"/api/backups/download/"+t.id,target:"_blank"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:""},{default:(0,l.w5)((()=>[(0,l.Uk)("Download")])),_:1})])),_:2},1032,["href"]),(0,l.Wm)(p,{onClick:a=>e.showDeleteDialogue(t.name,t.createdAtMillis,t.id),flat:"",dense:"",icon:"delete"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Uk)("Delete")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["style"])))),128))])),_:1},8,["rows"])])),_:1}),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[Q,V,(0,l.Wm)(p,{class:"q-my-md",color:"primary",onClick:t[0]||(t[0]=t=>e.newArchiveDialogue=!0)},{default:(0,l.w5)((()=>[(0,l.Uk)("Generate New Archive")])),_:1}),(0,l.Wm)(x,{modelValue:e.newArchiveDialogue,"onUpdate:modelValue":t[2]||(t[2]=t=>e.newArchiveDialogue=t),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{class:"bg-primary q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{class:"row items-center"},{default:(0,l.w5)((()=>[N,T])),_:1}),(0,l.Wm)(v,{onSubmit:e.generateNewArchive},{default:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,{rules:[e=>/^[a-zA-Z0-9\-_ ]+$/g.test(e)||"Valid characters include A-z, 0-9, ' ', '_', and '-'.'"],modelValue:e.newArchiveName,"onUpdate:modelValue":t[1]||(t[1]=t=>e.newArchiveName=t),label:"Archive Name","bg-color":"white","label-color":"primary",standout:"bg-white text-primary",class:"text-subtitle1"},null,8,["rules","modelValue"])])),_:1}),(0,l.Wm)(_,{align:"center"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(p,{onClick:e.clearNewArchiveName,flat:"",label:"Cancel",color:"white"},null,8,["onClick"]),[[k]]),(0,l.Wm)(p,{flat:"",label:"Confirm",type:"submit",color:"white"})])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(h,{dark:"",class:"bg-grey-9",rows:e.rows,"hide-pagination":""},{header:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"bg-primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Archive Name")])),_:1}),(0,l.Wm)(r,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Archive Date")])),_:1}),(0,l.Wm)(r,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Status")])),_:1}),(0,l.Wm)(r,{"auto-width":""},{default:(0,l.w5)((()=>[(0,l.Uk)("Actions")])),_:1})])),_:1})])),body:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.manualBackupList,(t=>((0,l.wg)(),(0,l.j4)(d,{key:t.id,style:(0,o.j5)([t.isCorrupted?"background-color: #935757":""])},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t.name),1)])),_:2},1024),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.formatDate(t.createdAtMillis)),1)])),_:2},1024),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t.isCorrupted?"Corrupted":""),1)])),_:2},1024),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{disable:t.isCorrupted,flat:"",dense:"",icon:"restore"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:""},{default:(0,l.w5)((()=>[(0,l.Uk)("Restore Content")])),_:1})])),_:2},1032,["disable"]),(0,l.Wm)(p,{flat:"",dense:"",icon:"download_for_offline",href:"/api/backups/download/"+t.id,target:"_blank"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:""},{default:(0,l.w5)((()=>[(0,l.Uk)("Download")])),_:1})])),_:2},1032,["href"]),(0,l.Wm)(p,{onClick:a=>e.showDeleteDialogue(t.name,t.createdAtMillis,t.id),flat:"",dense:"",icon:"delete"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Uk)("Delete")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["style"])))),128))])),_:1},8,["rows"])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(x,{modelValue:e.confirmDeleteDialogue.show,"onUpdate:modelValue":t[5]||(t[5]=t=>e.confirmDeleteDialogue.show=t),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{class:"bg-primary q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{class:"row items-center"},{default:(0,l.w5)((()=>[(0,l._)("p",P,[(0,l.Wm)(W,{icon:"mdi-alert",class:"q-mr-sm","text-color":"warning",size:"20px","font-size":"20px"}),(0,l.Uk)("Delete "),(0,l._)("span",I,(0,o.zw)(e.confirmDeleteDialogue.backupToDelete),1),(0,l.Uk)("?")]),B])),_:1}),(0,l.Wm)(_,{align:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{flat:"",label:"Cancel",onClick:t[3]||(t[3]=t=>e.resetDeleteDialogue())}),(0,l.Wm)(p,{flat:"",label:"Delete",onClick:t[4]||(t[4]=t=>e.deleteBackup(e.confirmDeleteDialogue.backupID))})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])}var F=function(e,t,a,l){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{u(l.next(e))}catch(t){s(t)}}function i(e){try{u(l["throw"](e))}catch(t){s(t)}}function u(e){e.done?a(e.value):n(e.value).then(o,i)}u((l=l.apply(e,t||[])).next())}))};const H=a(52),Y={getAutomaticBackupsList(){return F(this,void 0,void 0,(function*(){const e=[];try{const t="api/backups",a=yield(0,c.YW)(t);return a.backups.forEach((t=>{!1===t.isManualBackup&&e.push(t)})),e}catch(t){const e=(0,c.GD)(t);console.log(e)}return e}))},getManualBackupsList(){return F(this,void 0,void 0,(function*(){const e=[];try{const t="api/backups",a=yield(0,c.YW)(t);return a.backups.forEach((t=>{!0===t.isManualBackup&&e.push(t)})),e}catch(t){const e=(0,c.GD)(t);console.log(e)}return e}))},generateNewArchive(e){return H.post("/api/backups",`name=${e}`).then((()=>(console.log("Successfully created new archive."),!0))).catch((e=>(console.log(`Failed to create new archive: ${e}`),!1)))},deleteBackup(e){return H.delete(`/api/backups/${e}`).then((()=>(console.log("Successfully deleted archive."),!0))).catch((e=>(console.log(`Failed to delete archive: ${e}`),!1)))}};var L=function(e,t,a,l){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{u(l.next(e))}catch(t){s(t)}}function i(e){try{u(l["throw"](e))}catch(t){s(t)}}function u(e){e.done?a(e.value):n(e.value).then(o,i)}u((l=l.apply(e,t||[])).next())}))};const O=(0,l.aZ)({name:"ContentArchives",data(){return{rows:[{}],newArchiveDialogue:!1,newArchiveName:"",automaticBackupList:[],manualBackupList:[],confirmDeleteDialogue:{show:!1,backupToDelete:"",backupID:""}}},methods:{getBackups(){return L(this,void 0,void 0,(function*(){this.automaticBackupList=yield Y.getAutomaticBackupsList(),this.manualBackupList=yield Y.getManualBackupsList()}))},showDeleteDialogue(e,t,a){this.confirmDeleteDialogue={show:!0,backupToDelete:`${e}: ${d()(t).format("lll")}`,backupID:a}},resetDeleteDialogue(){this.confirmDeleteDialogue={show:!1,backupToDelete:"",backupID:""}},clearNewArchiveName(){this.newArchiveName=""},generateNewArchive(){this.newArchiveDialogue=!1,Y.generateNewArchive(this.newArchiveName),this.clearNewArchiveName(),this.getBackups()},deleteBackup(e){Y.deleteBackup(e),this.getBackups(),this.resetDeleteDialogue()},formatDate(e){return d()(e).format("lll")}},beforeMount(){this.getBackups()}});var E=a(6375),G=a(8240),R=a(8870),$=a(6778),K=a(5269),X=a(4842),J=a(9367),ee=a(5096),te=a(677);const ae=(0,v.Z)(O,[["render",M]]),le=ae;q()(O,"components",{QCard:b.Z,QCardSection:x.Z,QSeparator:W.Z,QTable:k.Z,QTr:D.Z,QTh:y.Z,QTd:j.Z,QBtnGroup:E.Z,QBtn:G.Z,QTooltip:R.Z,QDialog:$.Z,QForm:K.Z,QInput:X.Z,QCardActions:J.Z,QAvatar:ee.Z}),q()(O,"directives",{ClosePopup:te.Z});const ne=(0,l._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Upload Content",-1),se=(0,l._)("p",{class:"q-mb-xs text-body1 text-weight-bold"},"Upload Content",-1),oe=(0,l._)("div",{class:"q-mt-xs text-caption text-grey-5"},[(0,l.Uk)("Upload a content archive (.zip) or entity file (.json, .json.gz) to replace the content of this domain."),(0,l._)("br"),(0,l._)("span",{class:"text-warning"},"Note: Your domain content will be replaced by the content you upload, but the existing backup files of your domain's content will not immediately be changed.")],-1),ie={style:{display:"flex","justify-content":"center","align-items":"center"}},ue=(0,l._)("h5",{class:"text-grey-1 text-weight-bolder",style:{position:"absolute","z-index":"1"}},"Upload Content",-1),re={class:"text-grey-1 text-weight-bold",style:{position:"absolute","z-index":"1","margin-top":"5rem"}},de=(0,l._)("span",{class:"text-h5 q-mb-sm text-bold text-white"},"Upload Successful!",-1),ce={class:"text-body2"},me={class:"text-bold"},pe=(0,l._)("span",{class:"text-h5 q-mb-sm text-bold text-white"},"Upload Failed",-1),we=(0,l._)("span",{class:"text-body2"},"Please try again or upload a different content archive/file from another backup.",-1);function he(e,t,a,n,s,i){const u=(0,l.up)("q-separator"),r=(0,l.up)("q-icon"),d=(0,l.up)("q-uploader"),c=(0,l.up)("q-card-section"),m=(0,l.up)("q-card"),p=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(m,{class:"my-card q-mt-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[ne,(0,l.Wm)(u),(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[se,oe,(0,l._)("div",ie,[(0,l.Wm)(r,{style:{position:"absolute","z-index":"1",color:"#555","font-size":"12rem","margin-top":"2rem"},size:"xl",name:"file_upload"}),ue,(0,l._)("p",re,[(0,l.Uk)("Drag and Drop Here or Click "),(0,l.Wm)(r,{name:"add_box",size:"xs",class:"q-mb-xs"}),(0,l.Uk)(" to Select a File")]),(0,l.Wm)(d,{label:"Upload a content archive (.zip) or entity file (.json .json.gz)","max-files":"1",url:"/content/upload",style:{height:"500px","min-width":"100%","background-image":"linear-gradient(-45deg, #3d3d3d 25%, #333 25%, #333 50%, #3d3d3d 50%, #3d3d3d 75%, #333 75%, #333 100%)","background-size":"100px 100px",border:"dashed 1px lightgrey"}})]),(0,l.Wm)(p,{modelValue:e.showSuccessfulUploadDialog,"onUpdate:modelValue":t[0]||(t[0]=t=>e.showSuccessfulUploadDialog=t),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"bg-positive q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"row items-center"},{default:(0,l.w5)((()=>[de,(0,l._)("span",ce,[(0,l.Uk)("Your uploaded content will be saved and the page will refresh in "),(0,l._)("span",me,(0,o.zw)(e.reloadPageTimer),1),(0,l.Uk)(" seconds")])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(p,{modelValue:e.showFailedUploadDialog,"onUpdate:modelValue":t[1]||(t[1]=t=>e.showFailedUploadDialog=t),"auto-close":""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"bg-negative q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"row items-center"},{default:(0,l.w5)((()=>[pe,we])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])}const fe=(0,l.aZ)({name:"UploadContent",data(){return{showSuccessfulUploadDialog:!1,reloadPageTimer:3,showFailedUploadDialog:!1}},methods:{successfulUpload(){this.showSuccessfulUploadDialog=!0,window.setInterval((()=>{this.reloadPageTimer--,0===this.reloadPageTimer&&window.location.reload()}),1e3)},failedUpload(){console.log("Failed to upload content"),this.showFailedUploadDialog=!0}}});var ge=a(4554),_e=a(1745);const ve=(0,v.Z)(fe,[["render",he]]),be=ve;q()(fe,"components",{QCard:b.Z,QCardSection:x.Z,QSeparator:W.Z,QIcon:ge.Z,QUploader:_e.Z,QDialog:$.Z});const xe=(0,l._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Paths",-1),We=(0,l._)("p",{class:"q-mb-xs text-body1 text-weight-bold"},"Paths",-1),ke=(0,l._)("div",{class:"q-mt-xs text-caption text-grey-5"},[(0,l.Uk)("Clients can enter a path to reach an exact viewpoint in your domain. Add rows to the table below to map a path to a viewpoint."),(0,l._)("br"),(0,l.Uk)("The index path ( / ) is where clients will enter if they do not enter an explicit path.")],-1),De={class:"text-h6 text-bold text-white full-width"},ye={class:"text-warning"},je=(0,l._)("p",{class:"text-body2"},"WARNING: This cannot be undone.",-1);function Ce(e,t,a,n,s,i){const u=(0,l.up)("q-separator"),r=(0,l.up)("q-th"),d=(0,l.up)("q-tr"),c=(0,l.up)("q-td"),m=(0,l.up)("q-btn"),p=(0,l.up)("q-input"),w=(0,l.up)("q-icon"),h=(0,l.up)("q-table"),f=(0,l.up)("q-card-section"),g=(0,l.up)("q-card"),_=(0,l.up)("q-avatar"),v=(0,l.up)("q-card-actions"),b=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(g,{class:"my-card q-mt-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[xe,(0,l.Wm)(u),(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[We,ke,(0,l.Wm)(h,{dark:"",class:"bg-grey-9",rows:e.rows},{header:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"bg-primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Path")])),_:1}),(0,l.Wm)(r,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Viewpoint")])),_:1}),(0,l.Wm)(r,{"auto-width":""})])),_:1})])),body:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Object.entries(e.paths),(t=>((0,l.wg)(),(0,l.j4)(d,{key:t[0]},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t[0]),1)])),_:2},1024),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t[1].viewpoint),1)])),_:2},1024),(0,l.Wm)(c,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{onClick:a=>e.onShowConfirmDeleteDialogue(t[0]),size:"sm",color:"negative",icon:"delete",class:"q-px-xs",round:""},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),"bottom-row":(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{modelValue:e.newPath.path,"onUpdate:modelValue":t[0]||(t[0]=t=>e.newPath.path=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"New Path",hint:"/",dense:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{modelValue:e.newPath.viewpoint,"onUpdate:modelValue":t[1]||(t[1]=t=>e.newPath.viewpoint=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"Viewpoint",hint:"/0,0,0",dense:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(c,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{color:"positive"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{name:"add",size:"sm"})])),_:1})])),_:1})])),_:1})])),_:1},8,["rows"])])),_:1})])),_:1}),(0,l.Wm)(b,{modelValue:e.confirmDeleteDialogue.show,"onUpdate:modelValue":t[4]||(t[4]=t=>e.confirmDeleteDialogue.show=t),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"bg-primary q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{class:"row items-center"},{default:(0,l.w5)((()=>[(0,l._)("p",De,[(0,l.Wm)(_,{icon:"mdi-alert",class:"q-mr-sm","text-color":"warning",size:"20px","font-size":"20px"}),(0,l.Uk)("Delete "),(0,l._)("span",ye,(0,o.zw)(e.confirmDeleteDialogue.pathName),1),(0,l.Uk)("?")]),je])),_:1}),(0,l.Wm)(v,{align:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{flat:"",label:"Cancel",onClick:t[2]||(t[2]=t=>e.onHideConfirmDeleteDialogue())}),(0,l.Wm)(m,{flat:"",label:"Delete",onClick:t[3]||(t[3]=t=>e.onDeletePath(e.confirmDeleteDialogue.pathName))})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])}var qe=function(e,t,a,l){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{u(l.next(e))}catch(t){s(t)}}function i(e){try{u(l["throw"](e))}catch(t){s(t)}}function u(e){e.done?a(e.value):n(e.value).then(o,i)}u((l=l.apply(e,t||[])).next())}))};const Ue=(0,l.aZ)({name:"Paths",data(){return{rows:[{}],values:{},newPath:{path:"",viewpoint:""},confirmDeleteDialogue:{show:!1,pathName:""}}},methods:{onShowConfirmDeleteDialogue(e){this.confirmDeleteDialogue={show:!0,pathName:e}},onHideConfirmDeleteDialogue(){this.confirmDeleteDialogue={show:!1,pathName:""}},onDeletePath(e){this.onHideConfirmDeleteDialogue();const t=Object.assign({},this.paths);delete t[e],this.paths=t},refreshSettingsValues(){return qe(this,void 0,void 0,(function*(){this.values=yield f.getValues()}))},saveSettings(){const e={};for(const a of Object.entries(this.paths))e[a[0].replace("/","")]=a[1];const t={paths:e};f.automaticCommitSettings(t)}},computed:{paths:{get(){var e,t;return null!==(t=null===(e=this.values)||void 0===e?void 0:e.paths)&&void 0!==t?t:{}},set(e){var t;"undefined"!==typeof(null===(t=this.values)||void 0===t?void 0:t.paths)&&(this.values.paths=e,this.saveSettings())}}},beforeMount(){this.refreshSettingsValues()}}),Ze=(0,v.Z)(Ue,[["render",Ce]]),Se=Ze;q()(Ue,"components",{QCard:b.Z,QCardSection:x.Z,QSeparator:W.Z,QTable:k.Z,QTr:D.Z,QTh:y.Z,QTd:j.Z,QBtn:G.Z,QInput:X.Z,QIcon:ge.Z,QDialog:$.Z,QAvatar:ee.Z,QCardActions:J.Z});const ze=(0,l._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Audio Environment",-1),Ae=(0,l._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Factor between 0 and 1.0 (0: No attenuation, 1.0: extreme attenuation)",-1),Qe=(0,l._)("p",{class:"q-mb-xs text-body1 text-weight-bold"},"Zones",-1),Ve=(0,l._)("div",{class:"q-mt-xs text-caption text-grey-5"},"In this table you can define a set of zones in which you can specify various audio properties.",-1),Ne={class:"text-h6 text-bold text-white full-width"},Te={class:"text-warning"},Pe=(0,l._)("p",{class:"text-body2"},"WARNING: This cannot be undone.",-1);function Ie(e,t,a,n,s,i){const u=(0,l.up)("q-separator"),r=(0,l.up)("q-input"),d=(0,l.up)("q-card-section"),c=(0,l.up)("q-th"),m=(0,l.up)("q-tr"),p=(0,l.up)("q-td"),w=(0,l.up)("q-btn"),h=(0,l.up)("q-icon"),f=(0,l.up)("q-table"),g=(0,l.up)("q-card"),_=(0,l.up)("q-avatar"),v=(0,l.up)("q-card-actions"),b=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(g,{class:"my-card q-mt-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[ze,(0,l.Wm)(u),(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:e.defaultDomainAttenuation,"onUpdate:modelValue":t[0]||(t[0]=t=>e.defaultDomainAttenuation=t),label:"Default Domain Attenuation"},null,8,["modelValue"]),Ae])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[Qe,Ve,(0,l.Wm)(f,{dark:"",class:"bg-grey-9",rows:e.rows},{header:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"bg-primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Name")])),_:1}),(0,l.Wm)(c,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("X start")])),_:1}),(0,l.Wm)(c,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("X end")])),_:1}),(0,l.Wm)(c,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Y start")])),_:1}),(0,l.Wm)(c,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Y end")])),_:1}),(0,l.Wm)(c,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Z start")])),_:1}),(0,l.Wm)(c,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Z end")])),_:1}),(0,l.Wm)(c,{"auto-width":""})])),_:1})])),body:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Object.entries(e.paths),(t=>((0,l.wg)(),(0,l.j4)(m,{key:t[0]},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t[0]),1)])),_:2},1024),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t[1].viewpoint),1)])),_:2},1024),(0,l.Wm)(p,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{onClick:a=>e.onShowConfirmDeleteDialogue(t[0]),size:"sm",color:"negative",icon:"delete",class:"q-px-xs",round:""},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),"bottom-row":(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{modelValue:e.newPath.path,"onUpdate:modelValue":t[1]||(t[1]=t=>e.newPath.path=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"New Path",hint:"/",dense:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{modelValue:e.newPath.viewpoint,"onUpdate:modelValue":t[2]||(t[2]=t=>e.newPath.viewpoint=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"Viewpoint",hint:"/0,0,0",dense:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(p,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{color:"positive"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{name:"add",size:"sm"})])),_:1})])),_:1})])),_:1})])),_:1},8,["rows"])])),_:1})])),_:1}),(0,l.Wm)(b,{modelValue:e.confirmDeleteDialogue.show,"onUpdate:modelValue":t[5]||(t[5]=t=>e.confirmDeleteDialogue.show=t),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"bg-primary q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"row items-center"},{default:(0,l.w5)((()=>[(0,l._)("p",Ne,[(0,l.Wm)(_,{icon:"mdi-alert",class:"q-mr-sm","text-color":"warning",size:"20px","font-size":"20px"}),(0,l.Uk)("Delete "),(0,l._)("span",Te,(0,o.zw)(e.confirmDeleteDialogue.pathName),1),(0,l.Uk)("?")]),Pe])),_:1}),(0,l.Wm)(v,{align:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{flat:"",label:"Cancel",onClick:t[3]||(t[3]=t=>e.onHideConfirmDeleteDialogue())}),(0,l.Wm)(w,{flat:"",label:"Delete",onClick:t[4]||(t[4]=t=>e.onDeletePath(e.confirmDeleteDialogue.pathName))})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])}var Be=function(e,t,a,l){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{u(l.next(e))}catch(t){s(t)}}function i(e){try{u(l["throw"](e))}catch(t){s(t)}}function u(e){e.done?a(e.value):n(e.value).then(o,i)}u((l=l.apply(e,t||[])).next())}))};const Me=(0,l.aZ)({name:"AudioEnvironment",data(){return{rows:[{}],values:{},serverTypeOptions:["Audio Mixer","Avatar Mixer "],newPath:{path:"",viewpoint:""},confirmDeleteDialogue:{show:!1,pathName:""}}},methods:{onShowConfirmDeleteDialogue(e){this.confirmDeleteDialogue={show:!0,pathName:e}},onHideConfirmDeleteDialogue(){this.confirmDeleteDialogue={show:!1,pathName:""}},onDeletePath(e){this.onHideConfirmDeleteDialogue();const t=Object.assign({},this.paths);delete t[e],this.paths=t},refreshSettingsValues(){return Be(this,void 0,void 0,(function*(){this.values=yield f.getValues()}))},saveSettings(){const e={paths:this.paths};f.automaticCommitSettings(e)}},computed:{paths:{get(){var e,t;return null!==(t=null===(e=this.values)||void 0===e?void 0:e.paths)&&void 0!==t?t:{}},set(e){var t;"undefined"!==typeof(null===(t=this.values)||void 0===t?void 0:t.paths)&&(this.values.paths=e,this.saveSettings())}},defaultDomainAttenuation:{get(){var e,t,a;return null!==(a=null===(t=null===(e=this.values)||void 0===e?void 0:e.audio_env)||void 0===t?void 0:t.attenuation_per_doubling_in_distance)&&void 0!==a?a:""},set(e){var t,a;"undefined"!==typeof(null===(a=null===(t=this.values)||void 0===t?void 0:t.audio_env)||void 0===a?void 0:a.attenuation_per_doubling_in_distance)&&(this.values.audio_env.attenuation_per_doubling_in_distance=e,this.saveSettings())}}},beforeMount(){this.refreshSettingsValues()}}),Fe=(0,v.Z)(Me,[["render",Ie]]),He=Fe;q()(Me,"components",{QCard:b.Z,QCardSection:x.Z,QSeparator:W.Z,QInput:X.Z,QTable:k.Z,QTr:D.Z,QTh:y.Z,QTd:j.Z,QBtn:G.Z,QIcon:ge.Z,QDialog:$.Z,QAvatar:ee.Z,QCardActions:J.Z});const Ye=(0,l._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Scripts",-1),Le=(0,l._)("p",{class:"q-mb-xs text-body1 text-weight-bold"},"Persistent Scripts",-1),Oe=(0,l._)("div",{class:"q-mt-xs text-caption text-grey-5"},"Add the URLs for scripts that you would like to ensure are always running in your domain.",-1),Ee={class:"text-h6 text-bold text-white full-width"},Ge={class:"text-warning"},Re=(0,l._)("p",{class:"text-body2"},"WARNING: This cannot be undone.",-1);function $e(e,t,a,n,s,i){const u=(0,l.up)("q-separator"),r=(0,l.up)("q-th"),d=(0,l.up)("q-tr"),c=(0,l.up)("q-td"),m=(0,l.up)("q-btn"),p=(0,l.up)("q-input"),w=(0,l.up)("q-icon"),h=(0,l.up)("q-table"),f=(0,l.up)("q-card-section"),g=(0,l.up)("q-card"),_=(0,l.up)("q-avatar"),v=(0,l.up)("q-card-actions"),b=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(g,{class:"my-card q-mt-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[Ye,(0,l.Wm)(u),(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[Le,Oe,(0,l.Wm)(h,{dark:"",class:"bg-grey-9",rows:e.rows},{header:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"bg-primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Script URL")])),_:1}),(0,l.Wm)(r,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("# instances")])),_:1}),(0,l.Wm)(r,{class:"text-left"},{default:(0,l.w5)((()=>[(0,l.Uk)("Pool")])),_:1}),(0,l.Wm)(r,{"auto-width":""})])),_:1})])),body:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.persistentScripts,((t,a)=>((0,l.wg)(),(0,l.j4)(d,{key:t.url},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t.url),1)])),_:2},1024),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t.num_instances),1)])),_:2},1024),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(t.pool),1)])),_:2},1024),(0,l.Wm)(c,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{onClick:l=>e.onShowConfirmDeleteDialogue(t.url,a),size:"sm",color:"negative",icon:"delete",class:"q-px-xs",round:""},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),"bottom-row":(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{modelValue:e.newScript.url,"onUpdate:modelValue":t[0]||(t[0]=t=>e.newScript.url=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"New Script URL",dense:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{modelValue:e.newScript.num_instances,"onUpdate:modelValue":t[1]||(t[1]=t=>e.newScript.num_instances=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"Instances",dense:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{modelValue:e.newScript.pool,"onUpdate:modelValue":t[2]||(t[2]=t=>e.newScript.pool=t),class:"no-margin no-padding text-subtitle2 text-white",standout:"bg-primary text-white",label:"Pool",dense:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(c,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{onClick:e.onAddScript,color:"positive"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{name:"add",size:"sm"})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["rows"])])),_:1})])),_:1}),(0,l.Wm)(b,{modelValue:e.confirmDeleteDialogue.show,"onUpdate:modelValue":t[5]||(t[5]=t=>e.confirmDeleteDialogue.show=t),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"bg-primary q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{class:"row items-center"},{default:(0,l.w5)((()=>[(0,l._)("p",Ee,[(0,l.Wm)(_,{icon:"mdi-alert",class:"q-mr-sm","text-color":"warning",size:"20px","font-size":"20px"}),(0,l.Uk)("Delete script "),(0,l._)("span",Ge,(0,o.zw)(e.confirmDeleteDialogue.scriptToDelete),1),(0,l.Uk)("?")]),Re])),_:1}),(0,l.Wm)(v,{align:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{flat:"",label:"Cancel",onClick:t[3]||(t[3]=t=>e.onHideConfirmDeleteDialogue())}),(0,l.Wm)(m,{flat:"",label:"Delete",onClick:t[4]||(t[4]=t=>e.onDeleteScript(e.confirmDeleteDialogue.index))})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])}var Ke=function(e,t,a,l){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{u(l.next(e))}catch(t){s(t)}}function i(e){try{u(l["throw"](e))}catch(t){s(t)}}function u(e){e.done?a(e.value):n(e.value).then(o,i)}u((l=l.apply(e,t||[])).next())}))};const Xe=(0,l.aZ)({name:"Scripts",data(){return{rows:[{}],values:{},newScript:{url:"",num_instances:"1",pool:""},confirmDeleteDialogue:{show:!1,scriptToDelete:"",index:-1}}},methods:{onShowConfirmDeleteDialogue(e,t){this.confirmDeleteDialogue={show:!0,scriptToDelete:e,index:t}},onHideConfirmDeleteDialogue(){this.confirmDeleteDialogue={show:!1,scriptToDelete:"",index:-1}},onDeleteScript(e){this.onHideConfirmDeleteDialogue();const t=[...this.persistentScripts];t.splice(e,1),this.persistentScripts=t},onAddScript(){this.persistentScripts=[...this.persistentScripts,this.newScript],this.newScript={url:"",num_instances:"1",pool:""}},refreshSettingsValues(){return Ke(this,void 0,void 0,(function*(){this.values=yield f.getValues()}))},saveSettings(){const e={scripts:{persistent_scripts:this.persistentScripts}};f.automaticCommitSettings(e)}},computed:{persistentScripts:{get(){var e,t;return null!==(t=null===(e=this.values.scripts)||void 0===e?void 0:e.persistent_scripts)&&void 0!==t?t:[]},set(e){var t;"undefined"!==typeof(null===(t=this.values.scripts)||void 0===t?void 0:t.persistent_scripts)&&(this.values.scripts.persistent_scripts=e,this.saveSettings())}}},beforeMount(){this.refreshSettingsValues()}}),Je=(0,v.Z)(Xe,[["render",$e]]),et=Je;q()(Xe,"components",{QCard:b.Z,QCardSection:x.Z,QSeparator:W.Z,QTable:k.Z,QTr:D.Z,QTh:y.Z,QTd:j.Z,QBtn:G.Z,QInput:X.Z,QIcon:ge.Z,QDialog:$.Z,QAvatar:ee.Z,QCardActions:J.Z});const tt=(0,l.aZ)({name:"Index",components:{InstalledContent:Z,ContentArchives:le,UploadContent:be,Paths:Se,Scripts:et,AudioEnvironment:He}}),at=(0,v.Z)(tt,[["render",s]]),lt=at},6700:(e,t,a)=>{var l={"./af":5809,"./af.js":5809,"./ar":6069,"./ar-dz":481,"./ar-dz.js":481,"./ar-kw":3994,"./ar-kw.js":3994,"./ar-ly":3312,"./ar-ly.js":3312,"./ar-ma":239,"./ar-ma.js":239,"./ar-sa":1863,"./ar-sa.js":1863,"./ar-tn":9607,"./ar-tn.js":9607,"./ar.js":6069,"./az":9281,"./az.js":9281,"./be":9945,"./be.js":9945,"./bg":9384,"./bg.js":9384,"./bm":1476,"./bm.js":1476,"./bn":3345,"./bn-bd":216,"./bn-bd.js":216,"./bn.js":3345,"./bo":1713,"./bo.js":1713,"./br":9655,"./br.js":9655,"./bs":7296,"./bs.js":7296,"./ca":3049,"./ca.js":3049,"./cs":8393,"./cs.js":8393,"./cv":8039,"./cv.js":8039,"./cy":5563,"./cy.js":5563,"./da":1960,"./da.js":1960,"./de":7533,"./de-at":6674,"./de-at.js":6674,"./de-ch":7732,"./de-ch.js":7732,"./de.js":7533,"./dv":8343,"./dv.js":8343,"./el":7004,"./el.js":7004,"./en-au":2517,"./en-au.js":2517,"./en-ca":4929,"./en-ca.js":4929,"./en-gb":9722,"./en-gb.js":9722,"./en-ie":6923,"./en-ie.js":6923,"./en-il":8050,"./en-il.js":8050,"./en-in":9624,"./en-in.js":9624,"./en-nz":540,"./en-nz.js":540,"./en-sg":4375,"./en-sg.js":4375,"./eo":40,"./eo.js":40,"./es":9720,"./es-do":5595,"./es-do.js":5595,"./es-mx":180,"./es-mx.js":180,"./es-us":1563,"./es-us.js":1563,"./es.js":9720,"./et":9217,"./et.js":9217,"./eu":9474,"./eu.js":9474,"./fa":5243,"./fa.js":5243,"./fi":7645,"./fi.js":7645,"./fil":5350,"./fil.js":5350,"./fo":5622,"./fo.js":5622,"./fr":1467,"./fr-ca":3439,"./fr-ca.js":3439,"./fr-ch":4335,"./fr-ch.js":4335,"./fr.js":1467,"./fy":6026,"./fy.js":6026,"./ga":2969,"./ga.js":2969,"./gd":1347,"./gd.js":1347,"./gl":1085,"./gl.js":1085,"./gom-deva":904,"./gom-deva.js":904,"./gom-latn":9597,"./gom-latn.js":9597,"./gu":8705,"./gu.js":8705,"./he":9128,"./he.js":9128,"./hi":2821,"./hi.js":2821,"./hr":9002,"./hr.js":9002,"./hu":4814,"./hu.js":4814,"./hy-am":658,"./hy-am.js":658,"./id":9344,"./id.js":9344,"./is":8204,"./is.js":8204,"./it":376,"./it-ch":1549,"./it-ch.js":1549,"./it.js":376,"./ja":9293,"./ja.js":9293,"./jv":6401,"./jv.js":6401,"./ka":482,"./ka.js":482,"./kk":7329,"./kk.js":7329,"./km":4241,"./km.js":4241,"./kn":3566,"./kn.js":3566,"./ko":2742,"./ko.js":2742,"./ku":2915,"./ku.js":2915,"./ky":6846,"./ky.js":6846,"./lb":4959,"./lb.js":4959,"./lo":2188,"./lo.js":2188,"./lt":8967,"./lt.js":8967,"./lv":1245,"./lv.js":1245,"./me":751,"./me.js":751,"./mi":7501,"./mi.js":7501,"./mk":1643,"./mk.js":1643,"./ml":5597,"./ml.js":5597,"./mn":7612,"./mn.js":7612,"./mr":9065,"./mr.js":9065,"./ms":4703,"./ms-my":4645,"./ms-my.js":4645,"./ms.js":4703,"./mt":4365,"./mt.js":4365,"./my":3788,"./my.js":3788,"./nb":7357,"./nb.js":7357,"./ne":9109,"./ne.js":9109,"./nl":3746,"./nl-be":1985,"./nl-be.js":1985,"./nl.js":3746,"./nn":7175,"./nn.js":7175,"./oc-lnc":566,"./oc-lnc.js":566,"./pa-in":5414,"./pa-in.js":5414,"./pl":182,"./pl.js":182,"./pt":505,"./pt-br":7839,"./pt-br.js":7839,"./pt.js":505,"./ro":9578,"./ro.js":9578,"./ru":2328,"./ru.js":2328,"./sd":641,"./sd.js":641,"./se":1758,"./se.js":1758,"./si":6680,"./si.js":6680,"./sk":5016,"./sk.js":5016,"./sl":7424,"./sl.js":7424,"./sq":8635,"./sq.js":8635,"./sr":9038,"./sr-cyrl":3716,"./sr-cyrl.js":3716,"./sr.js":9038,"./ss":4771,"./ss.js":4771,"./sv":3517,"./sv.js":3517,"./sw":9419,"./sw.js":9419,"./ta":5959,"./ta.js":5959,"./te":1739,"./te.js":1739,"./tet":2264,"./tet.js":2264,"./tg":4792,"./tg.js":4792,"./th":8328,"./th.js":8328,"./tk":702,"./tk.js":702,"./tl-ph":7814,"./tl-ph.js":7814,"./tlh":797,"./tlh.js":797,"./tr":6691,"./tr.js":6691,"./tzl":6891,"./tzl.js":6891,"./tzm":6362,"./tzm-latn":7855,"./tzm-latn.js":7855,"./tzm.js":6362,"./ug-cn":7606,"./ug-cn.js":7606,"./uk":513,"./uk.js":513,"./ur":3803,"./ur.js":3803,"./uz":344,"./uz-latn":8957,"./uz-latn.js":8957,"./uz.js":344,"./vi":3,"./vi.js":3,"./x-pseudo":8842,"./x-pseudo.js":8842,"./yo":2083,"./yo.js":2083,"./zh-cn":4536,"./zh-cn.js":4536,"./zh-hk":2475,"./zh-hk.js":2475,"./zh-mo":1515,"./zh-mo.js":1515,"./zh-tw":4746,"./zh-tw.js":4746};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}n.keys=function(){return Object.keys(l)},n.resolve=s,e.exports=n,n.id=6700}}]);