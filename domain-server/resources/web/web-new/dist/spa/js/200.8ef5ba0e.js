"use strict";(globalThis["webpackChunkvircadia_domain_dashboard"]=globalThis["webpackChunkvircadia_domain_dashboard"]||[]).push([[200],{5593:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(7483),o=n(8563),s=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function a(e){try{u(i.next(e))}catch(t){s(t)}}function r(e){try{u(i["throw"](e))}catch(t){s(t)}}function u(e){e.done?n(e.value):o(e.value).then(a,r)}u((i=i.apply(e,t||[])).next())}))};const a=n(52),r=[],u={getValues(){return s(this,void 0,void 0,(function*(){let e={};try{const t="settings.json",n=yield(0,i.YW)(t);return e=n.values,e}catch(t){const e=(0,i.GD)(t);console.log(e)}return e}))},getDescriptions(){return s(this,void 0,void 0,(function*(){let e=[];try{const t="settings.json",n=yield(0,i.YW)(t);return e=n.descriptions,e}catch(t){const e=(0,i.GD)(t);console.log(e)}return e}))},commitSettings(e){return a.post("/settings.json",JSON.stringify(e)).then((()=>(o.Z.info(o.Z.types.DOMAIN,"Successfully committed settings."),!0))).catch((e=>(o.Z.error(o.Z.types.DOMAIN,`Failed to commit settings to Domain: ${e}`),!1)))},automaticCommitSettings(e){r.forEach(((e,t)=>{clearTimeout(e),r.splice(t,1)})),r.push(window.setTimeout(this.commitSettings,5e3,e))},createNewDomainID(e){return s(this,void 0,void 0,(function*(){try{const t=`label=${e}`,n=yield a.post("/api/domains",t);if("failure"===n.data.status)return"";const i=n.data.domain.domainId;return i}catch(t){return console.log(t),""}}))},getDomains(){return s(this,void 0,void 0,(function*(){let e=[];try{const t="api/domains",n=yield(0,i.YW)(t);return e=n.data.domains,e}catch(t){console.log(t)}return e}))}}},7483:(e,t,n)=>{n.d(t,{ge:()=>d,YW:()=>l,GD:()=>r});var i=n(52),o=n.n(i);const s="http://localhost:40100/";var a=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function a(e){try{u(i.next(e))}catch(t){s(t)}}function r(e){try{u(i["throw"](e))}catch(t){s(t)}}function u(e){e.done?n(e.value):o(e.value).then(a,r)}u((i=i.apply(e,t||[])).next())}))};function r(e){if("string"===typeof e)return e;const t=e;return"message"in t?t.message:`Error: ${JSON.stringify(e)}`}function u(e,t){return(null!==t&&void 0!==t?t:s)+e}function l(e,t){var n;return a(this,void 0,void 0,(function*(){const i=u(e,t);let s="";try{const t=yield o().get(i);if(t&&t.status){if(200===t.status)return t.data;s=`${null!==(n=t.statusText)&&void 0!==n?n:"unspecified"}`}else s=`Poorly formed response to GET ${e}: ${JSON.stringify(t)}`}catch(a){const t=r(a);s=`Exception on GET ${e}: ${t}`,console.log(s)}throw new Error(s)}))}function d(e,t){var n;return a(this,void 0,void 0,(function*(){const i=u(e,t);let s="";try{const t=yield o()["delete"](i);if(t&&t.status){if(200===t.status)return;s=`${null!==(n=t.statusText)&&void 0!==n?n:"unspecified"}`}else s=`Poorly formed response to DELETE ${e}: ${JSON.stringify(t)}`}catch(a){const t=r(a);s=`Exception on DELETE ${e}: ${t}`,console.log(s)}throw new Error(s)}))}},9201:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var i=n(3673);const o={class:"q-pa-md"};function s(e,t,n,s,a,r){const u=(0,i.up)("AudioThreadingSettings"),l=(0,i.up)("AudioEnvironmentSettings"),d=(0,i.up)("AudioBuffersSettings");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(u),(0,i.Wm)(l),(0,i.Wm)(d)])}const a=(0,i._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Audio Threading",-1),r=(0,i._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Allow system to determine number of threads (recommended).",-1),u=(0,i._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Threads to spin up for audio mixing (if not automatically set).",-1),l=(0,i._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Target percentage of frame time to start throttling.",-1),d=(0,i._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Target percentage of frame time to backoff throttling.",-1);function c(e,t,n,o,s,c){const f=(0,i.up)("q-separator"),m=(0,i.up)("q-toggle"),h=(0,i.up)("q-card-section"),v=(0,i.up)("q-input"),g=(0,i.up)("q-card"),p=(0,i.up)("q-expansion-item");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(g,{class:"my-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[a,(0,i.Wm)(f),(0,i.Wm)(p,{modelValue:e.isWordPressSettingsToggled,"onUpdate:modelValue":t[4]||(t[4]=t=>e.isWordPressSettingsToggled=t),class:"q-mt-md text-subtitle1",popup:"",icon:"settings",label:"Advanced Settings"},{default:(0,i.w5)((()=>[(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m,{modelValue:e.isAutomaticThreadCountEnabled,"onUpdate:modelValue":t[0]||(t[0]=t=>e.isAutomaticThreadCountEnabled=t),"checked-icon":"check",color:"positive",label:"Automatically Determine Thread Count","unchecked-icon":"clear"},null,8,["modelValue"]),r])),_:1}),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(v,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:e.numberOfThreads,"onUpdate:modelValue":t[1]||(t[1]=t=>e.numberOfThreads=t),label:"Number of Threads"},null,8,["modelValue"]),u])),_:1}),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(v,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:e.throttleStart,"onUpdate:modelValue":t[2]||(t[2]=t=>e.throttleStart=t),label:"Throttle Start Target",type:"number"},null,8,["modelValue"]),l])),_:1}),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(v,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:e.throttleBackoff,"onUpdate:modelValue":t[3]||(t[3]=t=>e.throttleBackoff=t),label:"Throttle Backoff Target",type:"number"},null,8,["modelValue"]),d])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])}var f=n(5593),m=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function a(e){try{u(i.next(e))}catch(t){s(t)}}function r(e){try{u(i["throw"](e))}catch(t){s(t)}}function u(e){e.done?n(e.value):o(e.value).then(a,r)}u((i=i.apply(e,t||[])).next())}))};const h=(0,i.aZ)({name:"AudioThreadingSettings",data(){return{isWordPressSettingsToggled:!1,values:{}}},methods:{refreshSettingsValues(){return m(this,void 0,void 0,(function*(){this.values=yield f.Z.getValues()}))},saveSettings(){const e={audio_threading:{auto_threads:this.isAutomaticThreadCountEnabled,num_threads:this.numberOfThreads,throttle_start:this.throttleStart,throttle_backoff:this.throttleBackoff}};f.Z.automaticCommitSettings(e)}},computed:{isAutomaticThreadCountEnabled:{get(){var e,t;return null!==(t=null===(e=this.values.audio_threading)||void 0===e?void 0:e.auto_threads)&&void 0!==t&&t},set(e){var t;"undefined"!==typeof(null===(t=this.values.audio_threading)||void 0===t?void 0:t.auto_threads)&&(this.values.audio_threading.auto_threads=e,this.saveSettings())}},numberOfThreads:{get(){var e,t;return null!==(t=null===(e=this.values.audio_threading)||void 0===e?void 0:e.num_threads)&&void 0!==t?t:"error"},set(e){var t;"undefined"!==typeof(null===(t=this.values.audio_threading)||void 0===t?void 0:t.num_threads)&&(this.values.audio_threading.num_threads=e,this.saveSettings())}},throttleStart:{get(){var e,t;return null!==(t=null===(e=this.values.audio_threading)||void 0===e?void 0:e.throttle_start)&&void 0!==t?t:0},set(e){var t;"undefined"!==typeof(null===(t=this.values.audio_threading)||void 0===t?void 0:t.throttle_start)&&(this.values.audio_threading.throttle_start=e,this.saveSettings())}},throttleBackoff:{get(){var e,t;return null!==(t=null===(e=this.values.audio_threading)||void 0===e?void 0:e.throttle_backoff)&&void 0!==t?t:0},set(e){var t;"undefined"!==typeof(null===(t=this.values.audio_threading)||void 0===t?void 0:t.throttle_backoff)&&(this.values.audio_threading.throttle_backoff=e,this.saveSettings())}}},beforeMount(){this.refreshSettingsValues()}});var v=n(4260),g=n(151),p=n(5589),_=n(5869),b=n(429),y=n(8886),x=n(4842),w=n(7518),S=n.n(w);const W=(0,v.Z)(h,[["render",c]]),T=W;S()(h,"components",{QCard:g.Z,QCardSection:p.Z,QSeparator:_.Z,QExpansionItem:b.Z,QToggle:y.Z,QInput:x.Z});const V=(0,i._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Audio Environment",-1),q=(0,i._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Loudness value for noise background between 0 and 1.0 (0: mute everyone, 1.0: never mute). 0.003 is a typical setting to mute loud people.",-1),Z=(0,i._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Positional audio stream uses low-pass filter.",-1),E=(0,i._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"List of codec names in order of preferred usage.",-1);function P(e,t,n,o,s,a){const r=(0,i.up)("q-separator"),u=(0,i.up)("q-input"),l=(0,i.up)("q-card-section"),d=(0,i.up)("q-toggle"),c=(0,i.up)("q-card"),f=(0,i.up)("q-expansion-item");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(c,{class:"my-card q-mt-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[V,(0,i.Wm)(r),(0,i.Wm)(f,{modelValue:e.isWordPressSettingsToggled,"onUpdate:modelValue":t[3]||(t[3]=t=>e.isWordPressSettingsToggled=t),class:"q-mt-md text-subtitle1",popup:"",icon:"settings",label:"Advanced Settings"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:e.noiseMutingThreshold,"onUpdate:modelValue":t[0]||(t[0]=t=>e.noiseMutingThreshold=t),label:"Noise Muting Threshold"},null,8,["modelValue"]),q])),_:1}),(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{modelValue:e.isLowPassFilterEnabled,"onUpdate:modelValue":t[1]||(t[1]=t=>e.isLowPassFilterEnabled=t),"checked-icon":"check",color:"positive",label:"Low-pass Filter","unchecked-icon":"clear"},null,8,["modelValue"]),Z])),_:1}),(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:e.audioCodecPreferenceOrder,"onUpdate:modelValue":t[2]||(t[2]=t=>e.audioCodecPreferenceOrder=t),label:"Audio Codec Preference Order"},null,8,["modelValue"]),E])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])}var k=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function a(e){try{u(i.next(e))}catch(t){s(t)}}function r(e){try{u(i["throw"](e))}catch(t){s(t)}}function u(e){e.done?n(e.value):o(e.value).then(a,r)}u((i=i.apply(e,t||[])).next())}))};const A=(0,i.aZ)({name:"AudioEnvironmentSettings",data(){return{isWordPressSettingsToggled:!1,values:{}}},methods:{refreshSettingsValues(){return k(this,void 0,void 0,(function*(){this.values=yield f.Z.getValues()}))},saveSettings(){const e={audio_env:{noise_muting_threshold:this.noiseMutingThreshold,enable_filter:this.isLowPassFilterEnabled,codec_preference_order:this.audioCodecPreferenceOrder}};f.Z.automaticCommitSettings(e)}},computed:{noiseMutingThreshold:{get(){var e,t;return null!==(t=null===(e=this.values.audio_env)||void 0===e?void 0:e.noise_muting_threshold)&&void 0!==t?t:"error"},set(e){var t;"undefined"!==typeof(null===(t=this.values.audio_env)||void 0===t?void 0:t.noise_muting_threshold)&&(this.values.audio_env.noise_muting_threshold=e,this.saveSettings())}},isLowPassFilterEnabled:{get(){var e,t;return null!==(t=null===(e=this.values.audio_env)||void 0===e?void 0:e.enable_filter)&&void 0!==t&&t},set(e){var t;"undefined"!==typeof(null===(t=this.values.audio_env)||void 0===t?void 0:t.enable_filter)&&(this.values.audio_env.enable_filter=e,this.saveSettings())}},audioCodecPreferenceOrder:{get(){var e,t;return null!==(t=null===(e=this.values.audio_env)||void 0===e?void 0:e.codec_preference_order)&&void 0!==t?t:"error"},set(e){var t;"undefined"!==typeof(null===(t=this.values.audio_env)||void 0===t?void 0:t.codec_preference_order)&&(this.values.audio_env.codec_preference_order=e,this.saveSettings())}}},beforeMount(){this.refreshSettingsValues()}}),D=(0,v.Z)(A,[["render",P]]),C=D;S()(A,"components",{QCard:g.Z,QCardSection:p.Z,QSeparator:_.Z,QExpansionItem:b.Z,QInput:x.Z,QToggle:y.Z});const B=(0,i._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Audio Buffers",-1),Q=(0,i._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Dynamically buffer inbound audio streams based on perceived jitter in packet receipt timing.",-1),O=(0,i._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"If dynamic jitter buffers is disabled, this determines the size of the jitter buffers of inbound audio streams in the mixer. Higher numbers introduce more latency.",-1);function j(e,t,n,o,s,a){const r=(0,i.up)("q-separator"),u=(0,i.up)("q-toggle"),l=(0,i.up)("q-card-section"),d=(0,i.up)("q-input"),c=(0,i.up)("q-card"),f=(0,i.up)("q-expansion-item");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(c,{class:"my-card q-mt-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[B,(0,i.Wm)(r),(0,i.Wm)(f,{modelValue:e.isWordPressSettingsToggled,"onUpdate:modelValue":t[2]||(t[2]=t=>e.isWordPressSettingsToggled=t),class:"q-mt-md text-subtitle1",popup:"",icon:"settings",label:"Advanced Settings"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u,{modelValue:e.dyanmicJitterBuffers,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dyanmicJitterBuffers=t),"checked-icon":"check",color:"positive",label:"Dynamic Jitter Buffers","unchecked-icon":"clear"},null,8,["modelValue"]),Q])),_:1}),(0,i.Wm)(l,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:e.staticDesiredJitterBufferFrames,"onUpdate:modelValue":t[1]||(t[1]=t=>e.staticDesiredJitterBufferFrames=t),label:"Static Desired Jitter Buffer Frames"},null,8,["modelValue"]),O])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])}var J=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function a(e){try{u(i.next(e))}catch(t){s(t)}}function r(e){try{u(i["throw"](e))}catch(t){s(t)}}function u(e){e.done?n(e.value):o(e.value).then(a,r)}u((i=i.apply(e,t||[])).next())}))};const $=(0,i.aZ)({name:"AudioBuffersSettings",data(){return{isWordPressSettingsToggled:!1,values:{}}},methods:{refreshSettingsValues(){return J(this,void 0,void 0,(function*(){this.values=yield f.Z.getValues()}))},saveSettings(){const e={audio_buffer:{dynamic_jitter_buffer:this.dyanmicJitterBuffers,static_desired_jitter_buffer_frames:this.staticDesiredJitterBufferFrames}};f.Z.automaticCommitSettings(e)}},computed:{dyanmicJitterBuffers:{get(){var e,t;return null!==(t=null===(e=this.values.audio_buffer)||void 0===e?void 0:e.dynamic_jitter_buffer)&&void 0!==t&&t},set(e){var t;"undefined"!==typeof(null===(t=this.values.audio_buffer)||void 0===t?void 0:t.dynamic_jitter_buffer)&&(this.values.audio_buffer.dynamic_jitter_buffer=e,this.saveSettings())}},staticDesiredJitterBufferFrames:{get(){var e,t;return null!==(t=null===(e=this.values.audio_buffer)||void 0===e?void 0:e.static_desired_jitter_buffer_frames)&&void 0!==t?t:"error"},set(e){var t;"undefined"!==typeof(null===(t=this.values.audio_buffer)||void 0===t?void 0:t.static_desired_jitter_buffer_frames)&&(this.values.audio_buffer.static_desired_jitter_buffer_frames=e,this.saveSettings())}}},beforeMount(){this.refreshSettingsValues()}}),I=(0,v.Z)($,[["render",j]]),U=I;S()($,"components",{QCard:g.Z,QCardSection:p.Z,QSeparator:_.Z,QExpansionItem:b.Z,QToggle:y.Z,QInput:x.Z});const F=(0,i.aZ)({name:"Index",components:{AudioThreadingSettings:T,AudioEnvironmentSettings:C,AudioBuffersSettings:U}}),M=(0,v.Z)(F,[["render",s]]),L=M}}]);