"use strict";(globalThis["webpackChunkvircadia_domain_dashboard"]=globalThis["webpackChunkvircadia_domain_dashboard"]||[]).push([[533],{5593:(t,e,n)=>{n.d(e,{Z:()=>u});var o=n(7483),i=n(8563),a=function(t,e,n,o){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,a){function r(t){try{u(o.next(t))}catch(e){a(e)}}function s(t){try{u(o["throw"](t))}catch(e){a(e)}}function u(t){t.done?n(t.value):i(t.value).then(r,s)}u((o=o.apply(t,e||[])).next())}))};const r=n(52),s=[],u={getValues(){return a(this,void 0,void 0,(function*(){let t={};try{const e="settings.json",n=yield(0,o.YW)(e);return t=n.values,t}catch(e){const t=(0,o.GD)(e);console.log(t)}return t}))},getDescriptions(){return a(this,void 0,void 0,(function*(){let t=[];try{const e="settings.json",n=yield(0,o.YW)(e);return t=n.descriptions,t}catch(e){const t=(0,o.GD)(e);console.log(t)}return t}))},commitSettings(t){return r.post("/settings.json",JSON.stringify(t)).then((()=>(i.Z.info(i.Z.types.DOMAIN,"Successfully committed settings."),!0))).catch((t=>(i.Z.error(i.Z.types.DOMAIN,`Failed to commit settings to Domain: ${t}`),!1)))},automaticCommitSettings(t){s.forEach(((t,e)=>{clearTimeout(t),s.splice(e,1)})),s.push(window.setTimeout(this.commitSettings,5e3,t))},createNewDomainID(t){return a(this,void 0,void 0,(function*(){try{const e=`label=${t}`,n=yield r.post("/api/domains",e);if("failure"===n.data.status)return"";const o=n.data.domain.domainId;return o}catch(e){return console.log(e),""}}))},getDomains(){return a(this,void 0,void 0,(function*(){let t=[];try{const e="api/domains",n=yield(0,o.YW)(e);return t=n.data.domains,t}catch(e){console.log(e)}return t}))}}},7483:(t,e,n)=>{n.d(e,{ge:()=>d,YW:()=>l,GD:()=>s});var o=n(52),i=n.n(o);const a="http://localhost:40100/";var r=function(t,e,n,o){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,a){function r(t){try{u(o.next(t))}catch(e){a(e)}}function s(t){try{u(o["throw"](t))}catch(e){a(e)}}function u(t){t.done?n(t.value):i(t.value).then(r,s)}u((o=o.apply(t,e||[])).next())}))};function s(t){if("string"===typeof t)return t;const e=t;return"message"in e?e.message:`Error: ${JSON.stringify(t)}`}function u(t,e){return(null!==e&&void 0!==e?e:a)+t}function l(t,e){var n;return r(this,void 0,void 0,(function*(){const o=u(t,e);let a="";try{const e=yield i().get(o);if(e&&e.status){if(200===e.status)return e.data;a=`${null!==(n=e.statusText)&&void 0!==n?n:"unspecified"}`}else a=`Poorly formed response to GET ${t}: ${JSON.stringify(e)}`}catch(r){const e=s(r);a=`Exception on GET ${t}: ${e}`,console.log(a)}throw new Error(a)}))}function d(t,e){var n;return r(this,void 0,void 0,(function*(){const o=u(t,e);let a="";try{const e=yield i()["delete"](o);if(e&&e.status){if(200===e.status)return;a=`${null!==(n=e.statusText)&&void 0!==n?n:"unspecified"}`}else a=`Poorly formed response to DELETE ${t}: ${JSON.stringify(e)}`}catch(r){const e=s(r);a=`Exception on DELETE ${t}: ${e}`,console.log(a)}throw new Error(a)}))}},7533:(t,e,n)=>{n.r(e),n.d(e,{default:()=>k});var o=n(3673);const i={class:"q-pa-md"};function a(t,e,n,a,r,s){const u=(0,o.up)("AudioThreadingSettings");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(u)])}const r=(0,o._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Audio Threading",-1),s=(0,o._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Allow system to determine number of threads (recommended).",-1),u=(0,o._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Threads to spin up for audio mixing (if not automatically set).",-1),l=(0,o._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Target percentage of frame time to start throttling.",-1),d=(0,o._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Target percentage of frame time to backoff throttling",-1);function c(t,e,n,i,a,c){const h=(0,o.up)("q-separator"),m=(0,o.up)("q-toggle"),f=(0,o.up)("q-card-section"),g=(0,o.up)("q-input"),v=(0,o.up)("q-card"),p=(0,o.up)("q-expansion-item");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(v,{class:"my-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[r,(0,o.Wm)(h),(0,o.Wm)(p,{modelValue:t.isWordPressSettingsToggled,"onUpdate:modelValue":e[4]||(e[4]=e=>t.isWordPressSettingsToggled=e),class:"q-mt-md text-subtitle1",popup:"",icon:"settings",label:"Advanced Settings"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:t.isAutomaticThreadCountEnabled,"onUpdate:modelValue":e[0]||(e[0]=e=>t.isAutomaticThreadCountEnabled=e),"checked-icon":"check",color:"positive",label:"Automatically Determine Thread Count","unchecked-icon":"clear"},null,8,["modelValue"]),s])),_:1}),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.numberOfThreads,"onUpdate:modelValue":e[1]||(e[1]=e=>t.numberOfThreads=e),label:"Number of Threads"},null,8,["modelValue"]),u])),_:1}),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.throttleStart,"onUpdate:modelValue":e[2]||(e[2]=e=>t.throttleStart=e),label:"Throttle Start Target",type:"number"},null,8,["modelValue"]),l])),_:1}),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.throttleBackoff,"onUpdate:modelValue":e[3]||(e[3]=e=>t.throttleBackoff=e),label:"Throttle Backoff Target",type:"number"},null,8,["modelValue"]),d])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])}var h=n(5593),m=function(t,e,n,o){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,a){function r(t){try{u(o.next(t))}catch(e){a(e)}}function s(t){try{u(o["throw"](t))}catch(e){a(e)}}function u(t){t.done?n(t.value):i(t.value).then(r,s)}u((o=o.apply(t,e||[])).next())}))};const f=(0,o.aZ)({name:"AudioThreadingSettings",data(){return{isWordPressSettingsToggled:!1,values:{}}},methods:{refreshSettingsValues(){return m(this,void 0,void 0,(function*(){this.values=yield h.Z.getValues()}))},saveSettings(){const t={audio_threading:{auto_threads:this.isAutomaticThreadCountEnabled,num_threads:this.numberOfThreads,throttle_start:this.throttleStart,throttle_backoff:this.throttleBackoff}};h.Z.automaticCommitSettings(t)}},computed:{isAutomaticThreadCountEnabled:{get(){var t,e;return null!==(e=null===(t=this.values.audio_threading)||void 0===t?void 0:t.auto_threads)&&void 0!==e&&e},set(t){var e;"undefined"!==typeof(null===(e=this.values.audio_threading)||void 0===e?void 0:e.auto_threads)&&(this.values.audio_threading.auto_threads=t,this.saveSettings())}},numberOfThreads:{get(){var t,e;return null!==(e=null===(t=this.values.audio_threading)||void 0===t?void 0:t.num_threads)&&void 0!==e?e:"error"},set(t){var e;"undefined"!==typeof(null===(e=this.values.audio_threading)||void 0===e?void 0:e.num_threads)&&(this.values.audio_threading.num_threads=t,this.saveSettings())}},throttleStart:{get(){var t,e;return null!==(e=null===(t=this.values.audio_threading)||void 0===t?void 0:t.throttle_start)&&void 0!==e?e:0},set(t){var e;"undefined"!==typeof(null===(e=this.values.audio_threading)||void 0===e?void 0:e.throttle_start)&&(this.values.audio_threading.throttle_start=t,this.saveSettings())}},throttleBackoff:{get(){var t,e;return null!==(e=null===(t=this.values.audio_threading)||void 0===t?void 0:t.throttle_backoff)&&void 0!==e?e:0},set(t){var e;"undefined"!==typeof(null===(e=this.values.audio_threading)||void 0===e?void 0:e.throttle_backoff)&&(this.values.audio_threading.throttle_backoff=t,this.saveSettings())}}},beforeMount(){this.refreshSettingsValues()}});var g=n(4260),v=n(151),p=n(5589),y=n(5869),_=n(429),x=n(8886),b=n(4842),T=n(7518),w=n.n(T);const S=(0,g.Z)(f,[["render",c]]),W=S;w()(f,"components",{QCard:v.Z,QCardSection:p.Z,QSeparator:y.Z,QExpansionItem:_.Z,QToggle:x.Z,QInput:b.Z});const E=(0,o.aZ)({name:"Index",components:{AudioThreadingSettings:W}}),V=(0,g.Z)(E,[["render",a]]),k=V}}]);