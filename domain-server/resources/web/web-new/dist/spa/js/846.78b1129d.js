"use strict";(globalThis["webpackChunkvircadia_domain_dashboard"]=globalThis["webpackChunkvircadia_domain_dashboard"]||[]).push([[846],{7483:(e,t,r)=>{r.d(t,{ge:()=>u,YW:()=>c,GD:()=>i});var n=r(52),a=r.n(n);const o="http://localhost:40100/";var s=function(e,t,r,n){function a(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?r(e.value):a(e.value).then(s,i)}l((n=n.apply(e,t||[])).next())}))};function i(e){if("string"===typeof e)return e;const t=e;return"message"in t?t.message:`Error: ${JSON.stringify(e)}`}function l(e,t){return(null!==t&&void 0!==t?t:o)+e}function c(e,t){var r;return s(this,void 0,void 0,(function*(){const n=l(e,t);let o="";try{const t=yield a().get(n);if(t&&t.status){if(200===t.status)return t.data;o=`${null!==(r=t.statusText)&&void 0!==r?r:"unspecified"}`}else o=`Poorly formed response to GET ${e}: ${JSON.stringify(t)}`}catch(s){const t=i(s);o=`Exception on GET ${e}: ${t}`,console.log(o)}throw new Error(o)}))}function u(e,t){var r;return s(this,void 0,void 0,(function*(){const n=l(e,t);let o="";try{const t=yield a()["delete"](n);if(t&&t.status){if(200===t.status)return;o=`${null!==(r=t.statusText)&&void 0!==r?r:"unspecified"}`}else o=`Poorly formed response to DELETE ${e}: ${JSON.stringify(t)}`}catch(s){const t=i(s);o=`Exception on DELETE ${e}: ${t}`,console.log(o)}throw new Error(o)}))}},7526:(e,t,r)=>{r.d(t,{Z:()=>y});var n=r(3673);const a=(0,n._)("p",{class:"q-mt-md text-h5"},"Server Restarting...",-1);function o(e,t,r,o,s,i){const l=(0,n.up)("q-spinner"),c=(0,n.up)("q-linear-progress"),u=(0,n.up)("q-card-actions"),d=(0,n.up)("q-card"),m=(0,n.up)("q-dialog");return(0,n.wg)(),(0,n.j4)(m,{modelValue:e.restartPopup,"onUpdate:modelValue":t[0]||(t[0]=t=>e.restartPopup=t),persistent:"","transition-duration":"200","transition-hide":"fade"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,{flat:"",class:"transparent q-pa-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{align:"center",vertical:"",class:"row items-center no-wrap"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{color:"accent",size:"4rem",thickness:"8"}),a,(0,n.Wm)(c,{value:e.restartProgress,"animation-speed":"500",color:"accent"},null,8,["value"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}var s=r(7483),i=r(8563),l=function(e,t,r,n){function a(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?r(e.value):a(e.value).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const c=r(52),u=(0,n.aZ)({name:"SharedMethods",props:{restartServerWatcher:Boolean},data(){return{restartPopup:!1,restartProgress:0}},watch:{restartServerWatcher(){this.restartServer()}},methods:{restartServer(){return l(this,void 0,void 0,(function*(){const e=new Promise((function(e){const t="restart";(0,s.YW)(t),setTimeout((function(){e("Domain Server Restarted")}),3e3)})),t=setInterval((()=>{this.restartProgress+=.05}),3e3/23.5);this.restartPopup=!0,yield e,clearInterval(t),this.restartProgress=0,this.restartPopup=!1}))},commitSettings(e){return c.post("/settings.json",JSON.stringify(e)).then((()=>(i.Z.info(i.Z.types.DOMAIN,"Successfully committed settings."),!0))).catch((e=>(i.Z.error(i.Z.types.DOMAIN,`Failed to commit settings to Domain: ${e}`),!1)))}}});var d=r(4260),m=r(6778),p=r(151),f=r(9367),g=r(9754),h=r(1598),v=r(7518),w=r.n(v);const b=(0,d.Z)(u,[["render",o]]),y=b;w()(u,"components",{QDialog:m.Z,QCard:p.Z,QCardActions:f.Z,QSpinner:g.Z,QLinearProgress:h.Z})},5846:(e,t,r)=>{r.r(t),r.d(t,{default:()=>L});var n=r(3673);const a=(0,n._)("span",{class:"text-h5 q-ml-sm text-bold text-white"},"Confirm Restart?",-1),o=(0,n._)("span",{class:"text-body2 q-mt-sm"},"Your domain server will be briefly offline while it restarts",-1),s=(0,n._)("img",{src:"icons/favicon-128x128.png"},null,-1),i=(0,n._)("span",{class:"text-h6 q-ml-sm gt-xs"},"Domain Server Administration",-1);function l(e,t,r,l,c,u){const d=(0,n.up)("SharedMethods"),m=(0,n.up)("q-avatar"),p=(0,n.up)("q-card-section"),f=(0,n.up)("q-btn"),g=(0,n.up)("q-card-actions"),h=(0,n.up)("q-card"),v=(0,n.up)("q-dialog"),w=(0,n.up)("q-toolbar-title"),b=(0,n.up)("q-toolbar"),y=(0,n.up)("q-header"),Z=(0,n.up)("DrawerMenu"),W=(0,n.up)("q-drawer"),q=(0,n.up)("router-view"),S=(0,n.up)("q-page-container"),_=(0,n.up)("q-layout"),x=(0,n.Q2)("close-popup");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(d,{"restart-server-watcher":c.restartServer},null,8,["restart-server-watcher"]),(0,n.Wm)(_,{view:"hHh lpR fFf"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{modelValue:c.confirmRestart,"onUpdate:modelValue":t[1]||(t[1]=e=>c.confirmRestart=e),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{class:"bg-primary q-pa-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{class:"row items-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{icon:"mdi-alert","text-color":"warning",size:"28px","font-size":"28px"}),a,o])),_:1}),(0,n.Wm)(g,{align:"center"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(f,{flat:"",label:"Cancel"},null,512),[[x]]),(0,n.wy)((0,n.Wm)(f,{flat:"",label:"Restart",onClick:t[0]||(t[0]=e=>u.toggleRestartServer())},null,512),[[x]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(y,{elevated:"",class:"primary-10 text-white"},{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{dense:"",flat:"",round:"",icon:"menu",onClick:u.toggleLeftDrawer},null,8,["onClick"]),(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{size:"1.1em",class:"q-mb-xs"},{default:(0,n.w5)((()=>[s])),_:1}),i])),_:1}),(0,n.Wm)(f,{flat:"",dense:"",icon:"mdi-restart","aria-label":"Restart Server",label:"Restart Server",onClick:t[2]||(t[2]=e=>c.confirmRestart=!0),class:"q-mr-sm q-ml-sm"})])),_:1})])),_:1}),(0,n.Wm)(W,{"show-if-above":"",modelValue:c.leftDrawerOpen,"onUpdate:modelValue":t[3]||(t[3]=e=>c.leftDrawerOpen=e),side:"left",bordered:"",width:220},{default:(0,n.w5)((()=>[(0,n.Wm)(Z)])),_:1},8,["modelValue"]),(0,n.Wm)(S,null,{default:(0,n.w5)((()=>[(0,n.Wm)(q)])),_:1})])),_:1})],64)}var c=r(2323),u=r(8880);const d={class:"relative-position"};function m(e,t,r,a,o,s){const i=(0,n.up)("q-icon"),l=(0,n.up)("q-item-section"),m=(0,n.up)("q-badge"),p=(0,n.up)("q-item"),f=(0,n.up)("q-list");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.menuItems,(e=>((0,n.wg)(),(0,n.j4)(p,{key:e.route,to:e.route,exact:"","active-class":"bg-grey-8 text-accent active-tab"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{avatar:""},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{name:e.icon},null,8,["name"])])),_:2},1024),(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n._)("span",d,[(0,n.Uk)((0,c.zw)(e.label)+" ",1),(0,n.wy)((0,n.Wm)(m,{color:"primary",label:e.badge,floating:"",rounded:""},null,8,["label"]),[[u.F8,e.badge.length>0]])])])),_:2},1024)])),_:2},1032,["to"])))),128))])),_:1})])}const p={data(){return{menuItems:[{icon:"mdi-view-dashboard",route:"/",label:"Dashboard",badge:""},{icon:"mdi-lan",route:"/networking",label:"Networking",badge:"!"},{icon:"mdi-shield-lock-outline",route:"/security",label:"Security",badge:""},{icon:"mdi-cube-outline",route:"/content",label:"Content",badge:""},{icon:"mdi-volume-high",route:"/audio",label:"Audio",badge:""},{icon:"mdi-account-multiple",route:"/avatars",label:"Avatars",badge:""},{icon:"mdi-account-outline",route:"/entities",label:"Entities",badge:""},{icon:"mdi-script-text-outline",route:"/scripts",label:"Server Scripts",badge:""},{icon:"mdi-cog-outline",route:"/advanced",label:"Advanced",badge:""},{icon:"mdi-backup-restore",route:"/backup-restore",label:"Backup & Restore",badge:""},{icon:"mdi-console",route:"/assignment",label:"Assignment",badge:""},{icon:"mdi-help-circle",route:"/help",label:"Help & Troubleshooting",badge:""}]}}};var f=r(4260),g=r(7011),h=r(3414),v=r(2035),w=r(4554),b=r(9721),y=r(7518),Z=r.n(y);const W=(0,f.Z)(p,[["render",m]]),q=W;Z()(p,"components",{QList:g.Z,QItem:h.Z,QItemSection:v.Z,QIcon:w.Z,QBadge:b.Z});var S=r(7526);const _={components:{DrawerMenu:q,SharedMethods:S.Z},data(){return{restartServer:!1,confirmRestart:!1,leftDrawerOpen:!1}},methods:{toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen},toggleRestartServer(){this.restartServer=!this.restartServer}}};var x=r(3066),D=r(6778),Q=r(151),k=r(5589),P=r(5096),C=r(9367),E=r(8240),R=r(3812),T=r(9570),$=r(3747),O=r(2901),A=r(2652),I=r(677);const V=(0,f.Z)(_,[["render",l]]),L=V;Z()(_,"components",{QLayout:x.Z,QDialog:D.Z,QCard:Q.Z,QCardSection:k.Z,QAvatar:P.Z,QCardActions:C.Z,QBtn:E.Z,QHeader:R.Z,QToolbar:T.Z,QToolbarTitle:$.Z,QDrawer:O.Z,QPageContainer:A.Z}),Z()(_,"directives",{ClosePopup:I.Z})}}]);