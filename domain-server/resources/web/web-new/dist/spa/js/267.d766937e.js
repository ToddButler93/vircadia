"use strict";(globalThis["webpackChunkvircadia_domain_dashboard"]=globalThis["webpackChunkvircadia_domain_dashboard"]||[]).push([[267],{5593:(t,e,a)=>{a.d(e,{Z:()=>l});var n=a(7483),s=a(8563),i=function(t,e,a,n){function s(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,i){function o(t){try{l(n.next(t))}catch(e){i(e)}}function r(t){try{l(n["throw"](t))}catch(e){i(e)}}function l(t){t.done?a(t.value):s(t.value).then(o,r)}l((n=n.apply(t,e||[])).next())}))};const o=a(52),r=[],l={getValues(){return i(this,void 0,void 0,(function*(){let t={};try{const e="settings.json",a=yield(0,n.YW)(e);return t=a.values,t}catch(e){const t=(0,n.GD)(e);console.log(t)}return t}))},getDescriptions(){return i(this,void 0,void 0,(function*(){let t=[];try{const e="settings.json",a=yield(0,n.YW)(e);return t=a.descriptions,t}catch(e){const t=(0,n.GD)(e);console.log(t)}return t}))},commitSettings(t){return o.post("/settings.json",JSON.stringify(t)).then((()=>(s.Z.info(s.Z.types.DOMAIN,"Successfully committed settings."),!0))).catch((t=>(s.Z.error(s.Z.types.DOMAIN,`Failed to commit settings to Domain: ${t}`),!1)))},automaticCommitSettings(t){r.forEach(((t,e)=>{clearTimeout(t),r.splice(e,1)})),r.push(window.setTimeout(this.commitSettings,5e3,t))},createNewDomainID(t){return i(this,void 0,void 0,(function*(){try{const e=`label=${t}`,a=yield o.post("/api/domains",e);if("failure"===a.data.status)return"";const n=a.data.domain.domainId;return n}catch(e){return console.log(e),""}}))},getDomains(){return i(this,void 0,void 0,(function*(){let t=[];try{const e="api/domains",a=yield(0,n.YW)(e);return t=a.data.domains,t}catch(e){console.log(e)}return t}))}}},7483:(t,e,a)=>{a.d(e,{ge:()=>u,YW:()=>d,GD:()=>r});var n=a(52),s=a.n(n);const i="http://localhost:40100/";var o=function(t,e,a,n){function s(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,i){function o(t){try{l(n.next(t))}catch(e){i(e)}}function r(t){try{l(n["throw"](t))}catch(e){i(e)}}function l(t){t.done?a(t.value):s(t.value).then(o,r)}l((n=n.apply(t,e||[])).next())}))};function r(t){if("string"===typeof t)return t;const e=t;return"message"in e?e.message:`Error: ${JSON.stringify(t)}`}function l(t,e){return(null!==e&&void 0!==e?e:i)+t}function d(t,e){var a;return o(this,void 0,void 0,(function*(){const n=l(t,e);let i="";try{const e=yield s().get(n);if(e&&e.status){if(200===e.status)return e.data;i=`${null!==(a=e.statusText)&&void 0!==a?a:"unspecified"}`}else i=`Poorly formed response to GET ${t}: ${JSON.stringify(e)}`}catch(o){const e=r(o);i=`Exception on GET ${t}: ${e}`,console.log(i)}throw new Error(i)}))}function u(t,e){var a;return o(this,void 0,void 0,(function*(){const n=l(t,e);let i="";try{const e=yield s()["delete"](n);if(e&&e.status){if(200===e.status)return;i=`${null!==(a=e.statusText)&&void 0!==a?a:"unspecified"}`}else i=`Poorly formed response to DELETE ${t}: ${JSON.stringify(e)}`}catch(o){const e=r(o);i=`Exception on DELETE ${t}: ${e}`,console.log(i)}throw new Error(i)}))}},2267:(t,e,a)=>{a.r(e),a.d(e,{default:()=>j});var n=a(3673);const s={class:"q-pa-md"};function i(t,e,a,i,o,r){const l=(0,n.up)("AvatarsSettings"),d=(0,n.up)("AvatarMixerSettings"),u=(0,n.up)("MessagesMixerSettings");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(l),(0,n.Wm)(d),(0,n.Wm)(u)])}const o=(0,n._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Avatars",-1),r=(0,n._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Limits the height of avatars in your domain. Must be at least 0.009.",-1),l=(0,n._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Limits the height of avatars in your domain. Cannot be greater than 1755.",-1),d=(0,n._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Comma separated list of URLs (with optional paths) that avatar .fst files are allowed from. If someone attempts to use an avatar with a different domain, it will be rejected and the replacement avatar will be used. If left blank, any domain is allowed.",-1),u=(0,n._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"A URL for an avatar .fst to be used when someone tries to use an avatar that is not allowed. If left blank, the generic default avatar is used.",-1);function m(t,e,a,s,i,m){const c=(0,n.up)("q-separator"),v=(0,n.up)("q-input"),h=(0,n.up)("q-card-section"),g=(0,n.up)("q-card"),f=(0,n.up)("q-expansion-item");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(g,{class:"my-card"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[o,(0,n.Wm)(c),(0,n.Wm)(f,{modelValue:t.isWordPressSettingsToggled,"onUpdate:modelValue":e[4]||(e[4]=e=>t.isWordPressSettingsToggled=e),class:"q-mt-md text-subtitle1",popup:"",icon:"settings",label:"Advanced Settings"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.minAvatarHeight,"onUpdate:modelValue":e[0]||(e[0]=e=>t.minAvatarHeight=e),label:"Minimum Avatar Height (meters)"},null,8,["modelValue"]),r])),_:1}),(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.maxAvatarHeight,"onUpdate:modelValue":e[1]||(e[1]=e=>t.maxAvatarHeight=e),label:"Maximum Avatar Height (meters)"},null,8,["modelValue"]),l])),_:1}),(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.avatarWhitelist,"onUpdate:modelValue":e[2]||(e[2]=e=>t.avatarWhitelist=e),label:"Avatars Allowed From:"},null,8,["modelValue"]),d])),_:1}),(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.replacementAvatar,"onUpdate:modelValue":e[3]||(e[3]=e=>t.replacementAvatar=e),label:"Replacement Avatar For Disallowed Avatars"},null,8,["modelValue"]),u])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])}var c=a(5593),v=function(t,e,a,n){function s(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,i){function o(t){try{l(n.next(t))}catch(e){i(e)}}function r(t){try{l(n["throw"](t))}catch(e){i(e)}}function l(t){t.done?a(t.value):s(t.value).then(o,r)}l((n=n.apply(t,e||[])).next())}))};const h=(0,n.aZ)({name:"AvatarsSettings",data(){return{isWordPressSettingsToggled:!1,values:{},avatarHeightRange:{min:0,max:0}}},methods:{refreshSettingsValues(){return v(this,void 0,void 0,(function*(){this.values=yield c.Z.getValues()}))},saveSettings(){const t={avatars:{min_avatar_height:this.minAvatarHeight,max_avatar_height:this.maxAvatarHeight,avatar_whitelist:this.avatarWhitelist,replacement_avatar:this.replacementAvatar}};c.Z.automaticCommitSettings(t)}},computed:{minAvatarHeight:{get(){var t,e;return null!==(e=null===(t=this.values.avatars)||void 0===t?void 0:t.min_avatar_height)&&void 0!==e?e:.4},set(t){var e;"undefined"!==typeof(null===(e=this.values.avatars)||void 0===e?void 0:e.min_avatar_height)&&(this.values.avatars.min_avatar_height=t,this.saveSettings())}},maxAvatarHeight:{get(){var t,e;return null!==(e=null===(t=this.values.avatars)||void 0===t?void 0:t.max_avatar_height)&&void 0!==e?e:5.2},set(t){var e;"undefined"!==typeof(null===(e=this.values.avatars)||void 0===e?void 0:e.max_avatar_height)&&(this.values.avatars.max_avatar_height=t,this.saveSettings())}},avatarWhitelist:{get(){var t,e;return null!==(e=null===(t=this.values.avatars)||void 0===t?void 0:t.avatar_whitelist)&&void 0!==e?e:""},set(t){var e;"undefined"!==typeof(null===(e=this.values.avatars)||void 0===e?void 0:e.avatar_whitelist)&&(this.values.avatars.avatar_whitelist=t,this.saveSettings())}},replacementAvatar:{get(){var t,e;return null!==(e=null===(t=this.values.avatars)||void 0===t?void 0:t.replacement_avatar)&&void 0!==e?e:""},set(t){var e;"undefined"!==typeof(null===(e=this.values.avatars)||void 0===e?void 0:e.replacement_avatar)&&(this.values.avatars.replacement_avatar=t,this.saveSettings())}}},beforeMount(){this.refreshSettingsValues()}});var g=a(4260),f=a(151),p=a(5589),x=a(5869),_=a(429),w=a(4842),y=a(1391),b=a(7518),S=a.n(b);const W=(0,g.Z)(h,[["render",m]]),V=W;S()(h,"components",{QCard:f.Z,QCardSection:p.Z,QSeparator:x.Z,QExpansionItem:_.Z,QInput:w.Z,QRange:y.Z});const q=(0,n._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Avatar Mixer",-1),A=(0,n._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Desired maximum send bandwidth (in Megabits per second) to each node.",-1),Z=(0,n._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Allow system to determine number of threads (recommended).",-1),T=(0,n._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Threads to spin up for avatar mixing (if not automatically set).",-1),M=(0,n._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Number of new agents that can connect to the mixer every second.",-1),E=(0,n._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Fraction of downstream bandwidth reserved for avatars in 'Hero' zones.",-1);function P(t,e,a,s,i,o){const r=(0,n.up)("q-separator"),l=(0,n.up)("q-input"),d=(0,n.up)("q-card-section"),u=(0,n.up)("q-toggle"),m=(0,n.up)("q-card"),c=(0,n.up)("q-expansion-item");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(m,{class:"my-card q-mt-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[q,(0,n.Wm)(r),(0,n.Wm)(c,{modelValue:t.isWordPressSettingsToggled,"onUpdate:modelValue":e[5]||(e[5]=e=>t.isWordPressSettingsToggled=e),class:"q-mt-md text-subtitle1",popup:"",icon:"settings",label:"Advanced Settings"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.maxNodeSendBandwidth,"onUpdate:modelValue":e[0]||(e[0]=e=>t.maxNodeSendBandwidth=e),label:"Per-Node Bandwidth"},null,8,["modelValue"]),A])),_:1}),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{modelValue:t.isAutomaticThreadCountEnabled,"onUpdate:modelValue":e[1]||(e[1]=e=>t.isAutomaticThreadCountEnabled=e),"checked-icon":"check",color:"positive",label:"Automatically Determine Thread Count","unchecked-icon":"clear"},null,8,["modelValue"]),Z])),_:1}),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.numberOfThreads,"onUpdate:modelValue":e[2]||(e[2]=e=>t.numberOfThreads=e),label:"Number of Threads"},null,8,["modelValue"]),T])),_:1}),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.connectionRate,"onUpdate:modelValue":e[3]||(e[3]=e=>t.connectionRate=e),label:"Connection Rate"},null,8,["modelValue"]),M])),_:1}),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.heroBandwidth,"onUpdate:modelValue":e[4]||(e[4]=e=>t.heroBandwidth=e),label:"Hero Bandwidth"},null,8,["modelValue"]),E])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])}var C=function(t,e,a,n){function s(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,i){function o(t){try{l(n.next(t))}catch(e){i(e)}}function r(t){try{l(n["throw"](t))}catch(e){i(e)}}function l(t){t.done?a(t.value):s(t.value).then(o,r)}l((n=n.apply(t,e||[])).next())}))};const D=(0,n.aZ)({name:"AvatarMixerSettings",data(){return{isWordPressSettingsToggled:!1,values:{}}},methods:{refreshSettingsValues(){return C(this,void 0,void 0,(function*(){this.values=yield c.Z.getValues()}))},saveSettings(){const t={avatar_mixer:{max_node_send_bandwidth:this.maxNodeSendBandwidth,auto_threads:this.isAutomaticThreadCountEnabled,num_threads:this.numberOfThreads,connection_rate:this.connectionRate,priority_fraction:this.heroBandwidth}};c.Z.automaticCommitSettings(t)}},computed:{maxNodeSendBandwidth:{get(){var t,e;return null!==(e=null===(t=this.values.avatar_mixer)||void 0===t?void 0:t.max_node_send_bandwidth)&&void 0!==e?e:5},set(t){var e;"undefined"!==typeof(null===(e=this.values.avatar_mixer)||void 0===e?void 0:e.max_node_send_bandwidth)&&(this.values.avatar_mixer.max_node_send_bandwidth=t,this.saveSettings())}},isAutomaticThreadCountEnabled:{get(){var t,e;return null===(e=null===(t=this.values.avatar_mixer)||void 0===t?void 0:t.auto_threads)||void 0===e||e},set(t){var e;"undefined"!==typeof(null===(e=this.values.avatar_mixer)||void 0===e?void 0:e.auto_threads)&&(this.values.avatar_mixer.auto_threads=t,this.saveSettings())}},numberOfThreads:{get(){var t,e;return null!==(e=null===(t=this.values.avatar_mixer)||void 0===t?void 0:t.num_threads)&&void 0!==e?e:"error"},set(t){var e;"undefined"!==typeof(null===(e=this.values.avatar_mixer)||void 0===e?void 0:e.num_threads)&&(this.values.avatar_mixer.num_threads=t,this.saveSettings())}},connectionRate:{get(){var t,e;return null!==(e=null===(t=this.values.avatar_mixer)||void 0===t?void 0:t.connection_rate)&&void 0!==e?e:"error"},set(t){var e;"undefined"!==typeof(null===(e=this.values.avatar_mixer)||void 0===e?void 0:e.connection_rate)&&(this.values.avatar_mixer.connection_rate=t,this.saveSettings())}},heroBandwidth:{get(){var t,e;return null!==(e=null===(t=this.values.avatar_mixer)||void 0===t?void 0:t.priority_fraction)&&void 0!==e?e:"error"},set(t){var e;"undefined"!==typeof(null===(e=this.values.avatar_mixer)||void 0===e?void 0:e.priority_fraction)&&(this.values.avatar_mixer.priority_fraction=t,this.saveSettings())}}},beforeMount(){this.refreshSettingsValues()}});var N=a(8886);const Q=(0,g.Z)(D,[["render",P]]),U=Q;S()(D,"components",{QCard:f.Z,QCardSection:p.Z,QSeparator:x.Z,QExpansionItem:_.Z,QInput:w.Z,QToggle:N.Z});const I=(0,n._)("div",{class:"text-h5 text-center text-weight-bold q-mb-sm"},"Messages Mixer",-1),H=(0,n._)("div",{class:"q-ml-xs q-mt-xs text-caption text-grey-5"},"Maximum message send rate (messages per second) per node.",-1);function $(t,e,a,s,i,o){const r=(0,n.up)("q-separator"),l=(0,n.up)("q-input"),d=(0,n.up)("q-card-section"),u=(0,n.up)("q-card"),m=(0,n.up)("q-expansion-item");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(u,{class:"my-card q-mt-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[I,(0,n.Wm)(r),(0,n.Wm)(m,{modelValue:t.isWordPressSettingsToggled,"onUpdate:modelValue":e[1]||(e[1]=e=>t.isWordPressSettingsToggled=e),class:"q-mt-md text-subtitle1",popup:"",icon:"settings",label:"Advanced Settings"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{standout:"bg-primary text-white",class:"text-subtitle1",modelValue:t.maxNodeMessagesPerSecond,"onUpdate:modelValue":e[0]||(e[0]=e=>t.maxNodeMessagesPerSecond=e),label:"Maximum Message Rate"},null,8,["modelValue"]),H])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])}var R=function(t,e,a,n){function s(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,i){function o(t){try{l(n.next(t))}catch(e){i(e)}}function r(t){try{l(n["throw"](t))}catch(e){i(e)}}function l(t){t.done?a(t.value):s(t.value).then(o,r)}l((n=n.apply(t,e||[])).next())}))};const B=(0,n.aZ)({name:"MessagesMixerSettings",data(){return{isWordPressSettingsToggled:!1,values:{}}},methods:{refreshSettingsValues(){return R(this,void 0,void 0,(function*(){this.values=yield c.Z.getValues()}))},saveSettings(){const t={messages_mixer:{max_node_messages_per_second:this.maxNodeMessagesPerSecond}};c.Z.automaticCommitSettings(t)}},computed:{maxNodeMessagesPerSecond:{get(){var t,e;return null!==(e=null===(t=this.values.messages_mixer)||void 0===t?void 0:t.max_node_messages_per_second)&&void 0!==e?e:0},set(t){var e;"undefined"!==typeof(null===(e=this.values.messages_mixer)||void 0===e?void 0:e.max_node_messages_per_second)&&(this.values.messages_mixer.max_node_messages_per_second=t,this.saveSettings())}}},beforeMount(){this.refreshSettingsValues()}}),O=(0,g.Z)(B,[["render",$]]),k=O;S()(B,"components",{QCard:f.Z,QCardSection:p.Z,QSeparator:x.Z,QExpansionItem:_.Z,QInput:w.Z});const L=(0,n.aZ)({name:"Index",components:{AvatarsSettings:V,AvatarMixerSettings:U,MessagesMixerSettings:k}}),G=(0,g.Z)(L,[["render",i]]),j=G}}]);