"use strict";(globalThis["webpackChunkvircadia_domain_dashboard"]=globalThis["webpackChunkvircadia_domain_dashboard"]||[]).push([[434],{7526:(e,t,a)=>{a.d(t,{Z:()=>Z});var r=a(3673);const n=(0,r._)("p",{class:"q-mt-md text-h5"},"Server Restarting...",-1);function o(e,t,a,o,i,s){const l=(0,r.up)("q-spinner"),c=(0,r.up)("q-linear-progress"),u=(0,r.up)("q-card-actions"),d=(0,r.up)("q-card"),m=(0,r.up)("q-dialog");return(0,r.wg)(),(0,r.j4)(m,{modelValue:e.restartPopup,"onUpdate:modelValue":t[0]||(t[0]=t=>e.restartPopup=t),persistent:"","transition-duration":"200","transition-hide":"fade"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{flat:"",class:"transparent q-pa-md"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{align:"center",vertical:"",class:"row items-center no-wrap"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{color:"accent",size:"4rem",thickness:"8"}),n,(0,r.Wm)(c,{value:e.restartProgress,"animation-speed":"500",color:"accent"},null,8,["value"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}var i=a(7483),s=a(8563),l=function(e,t,a,r){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r["throw"](e))}catch(t){o(t)}}function l(e){e.done?a(e.value):n(e.value).then(i,s)}l((r=r.apply(e,t||[])).next())}))};const c=a(52),u=(0,r.aZ)({name:"SharedMethods",props:{restartServerWatcher:Boolean},data(){return{restartPopup:!1,restartProgress:0}},watch:{restartServerWatcher(){this.restartServer()}},methods:{restartServer(){return l(this,void 0,void 0,(function*(){const e=new Promise((function(e){const t="restart";(0,i.YW)(t),setTimeout((function(){e("Domain Server Restarted")}),3e3)})),t=setInterval((()=>{this.restartProgress+=.05}),3e3/23.5);this.restartPopup=!0,yield e,clearInterval(t),this.restartProgress=0,this.restartPopup=!1}))},commitSettings(e){return c.post("/settings.json",JSON.stringify(e)).then((()=>(s.Z.info(s.Z.types.DOMAIN,"Successfully committed settings."),!0))).catch((e=>(s.Z.error(s.Z.types.DOMAIN,`Failed to commit settings to Domain: ${e}`),!1)))}}});var d=a(4260),m=a(6778),p=a(151),g=a(9367),f=a(9754),w=a(1598),h=a(7518),v=a.n(h);const b=(0,d.Z)(u,[["render",o]]),Z=b;v()(u,"components",{QDialog:m.Z,QCard:p.Z,QCardActions:g.Z,QSpinner:f.Z,QLinearProgress:w.Z})},1434:(e,t,a)=>{a.r(t),a.d(t,{default:()=>J});var r=a(3673);const n=(0,r._)("span",{class:"text-h5 q-ml-sm text-bold text-white"},"Confirm Restart?",-1),o=(0,r._)("span",{class:"text-body2 q-mt-sm"},"Your domain server will be briefly offline while it restarts",-1),i=(0,r._)("img",{src:"icons/favicon-128x128.png"},null,-1),s=(0,r._)("span",{class:"text-h6 q-ml-sm gt-xs"},"Domain Server Administration",-1),l={key:0},c={key:1},u=(0,r._)("span",{class:"gt-xs"},"Restart Server",-1);function d(e,t,a,d,m,p){const g=(0,r.up)("SharedMethods"),f=(0,r.up)("q-avatar"),w=(0,r.up)("q-card-section"),h=(0,r.up)("q-btn"),v=(0,r.up)("q-card-actions"),b=(0,r.up)("q-card"),Z=(0,r.up)("q-dialog"),W=(0,r.up)("q-toolbar-title"),_=(0,r.up)("q-toolbar"),q=(0,r.up)("q-header"),y=(0,r.up)("DrawerMenu"),D=(0,r.up)("q-drawer"),k=(0,r.up)("router-view"),S=(0,r.up)("q-page-container"),C=(0,r.up)("q-layout"),x=(0,r.Q2)("close-popup");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(g,{"restart-server-watcher":m.restartServer},null,8,["restart-server-watcher"]),(0,r.Wm)(C,{view:"hHh lpR fFf"},{default:(0,r.w5)((()=>[(0,r.Wm)(Z,{modelValue:m.confirmRestart,"onUpdate:modelValue":t[1]||(t[1]=e=>m.confirmRestart=e),persistent:""},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{class:"bg-primary q-pa-md"},{default:(0,r.w5)((()=>[(0,r.Wm)(w,{class:"row items-center"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{icon:"mdi-alert","text-color":"warning",size:"28px","font-size":"28px"}),n,o])),_:1}),(0,r.Wm)(v,{align:"center"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(h,{flat:"",label:"Cancel"},null,512),[[x]]),(0,r.wy)((0,r.Wm)(h,{flat:"",label:"Restart",onClick:t[0]||(t[0]=e=>p.toggleRestartServer())},null,512),[[x]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.Wm)(q,{elevated:"",class:"primary-10 text-white"},{default:(0,r.w5)((()=>[(0,r.Wm)(_,null,{default:(0,r.w5)((()=>[(0,r.Wm)(h,{dense:"",flat:"",round:"",icon:"menu",onClick:p.toggleLeftDrawer},null,8,["onClick"]),(0,r.Wm)(W,null,{default:(0,r.w5)((()=>[(0,r.Wm)(f,{size:"1.1em",class:"q-mb-xs"},{default:(0,r.w5)((()=>[i])),_:1}),s])),_:1}),m.isConnected?((0,r.wg)(),(0,r.iD)("div",c,[(0,r.Wm)(h,{to:"/networking",class:"text-positive",style:{"background-color":"#1B7EB9"},"aria-label":"Connected",flat:""},{default:(0,r.w5)((()=>[(0,r.Uk)("CONNECTED")])),_:1})])):((0,r.wg)(),(0,r.iD)("div",l,[(0,r.Wm)(h,{to:"/networking",class:"text-warning",style:{"background-color":"#2D7EB9"},"aria-label":"Not Connected",flat:""},{default:(0,r.w5)((()=>[(0,r.Uk)("NOT CONNECTED")])),_:1})])),(0,r.Wm)(h,{flat:"",dense:"",icon:"mdi-restart","aria-label":"Restart Server",onClick:t[2]||(t[2]=e=>m.confirmRestart=!0),class:"q-mr-sm q-ml-sm"},{default:(0,r.w5)((()=>[u])),_:1})])),_:1})])),_:1}),(0,r.Wm)(D,{"show-if-above":"",modelValue:m.leftDrawerOpen,"onUpdate:modelValue":t[3]||(t[3]=e=>m.leftDrawerOpen=e),side:"left",bordered:"",width:220},{default:(0,r.w5)((()=>[(0,r.Wm)(y)])),_:1},8,["modelValue"]),(0,r.Wm)(S,null,{default:(0,r.w5)((()=>[(0,r.Wm)(k)])),_:1})])),_:1})],64)}var m=a(2323),p=a(8880);const g={class:"relative-position"};function f(e,t,a,n,o,i){const s=(0,r.up)("q-icon"),l=(0,r.up)("q-item-section"),c=(0,r.up)("q-badge"),u=(0,r.up)("q-item"),d=(0,r.up)("q-list");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.menuItems,(e=>((0,r.wg)(),(0,r.j4)(u,{key:e.route,to:e.route,exact:"","active-class":"bg-grey-8 text-accent active-tab"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{avatar:""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{name:e.icon},null,8,["name"])])),_:2},1024),(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r._)("span",g,[(0,r.Uk)((0,m.zw)(e.label)+" ",1),(0,r.wy)((0,r.Wm)(c,{color:"primary",label:e.badge,floating:"",rounded:""},null,8,["label"]),[[p.F8,e.badge.length>0]])])])),_:2},1024)])),_:2},1032,["to"])))),128))])),_:1})])}const w={data(){return{menuItems:[{icon:"mdi-view-dashboard",route:"/",label:"Dashboard",badge:""},{icon:"mdi-lan",route:"/networking",label:"Networking",badge:"!"},{icon:"mdi-shield-lock-outline",route:"/security",label:"Security",badge:""},{icon:"mdi-cube-outline",route:"/content",label:"Content",badge:""},{icon:"mdi-volume-high",route:"/audio",label:"Audio",badge:""},{icon:"mdi-account-multiple",route:"/avatars",label:"Avatars",badge:""},{icon:"mdi-account-outline",route:"/entities",label:"Entities",badge:""},{icon:"mdi-script-text-outline",route:"/details",label:"Details",badge:""},{icon:"mdi-cog-outline",route:"/advanced",label:"Advanced",badge:""},{icon:"mdi-backup-restore",route:"/backup-restore",label:"Backup & Restore",badge:""},{icon:"mdi-console",route:"/assignment",label:"Assignment",badge:""},{icon:"mdi-help-circle",route:"/help",label:"Help & Troubleshooting",badge:""}]}}};var h=a(4260),v=a(7011),b=a(3414),Z=a(2035),W=a(4554),_=a(9721),q=a(7518),y=a.n(q);const D=(0,h.Z)(w,[["render",f]]),k=D;y()(w,"components",{QList:v.Z,QItem:b.Z,QItemSection:Z.Z,QIcon:W.Z,QBadge:_.Z});var S=a(7526),C=a(1959),x=a(5593),Q=function(e,t,a,r){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r["throw"](e))}catch(t){o(t)}}function l(e){e.done?a(e.value):n(e.value).then(i,s)}l((r=r.apply(e,t||[])).next())}))};class I{constructor(){this.isLoggedIn=(0,C.iH)(!1),P().then((e=>{this.isLoggedIn=(0,C.iH)(e),console.log(this.isLoggedIn)}))}static getInstance(){return I.instance||(I.instance=new I),I.instance}}function P(){var e;return Q(this,void 0,void 0,(function*(){const t=yield x.Z.getValues();return Boolean(null===(e=t.metaverse)||void 0===e?void 0:e.access_token)}))}const R=I.getInstance(),O={components:{DrawerMenu:k,SharedMethods:S.Z},data(){return{isConnected:R.isLoggedIn,restartServer:!1,confirmRestart:!1,leftDrawerOpen:!1}},methods:{toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen},toggleRestartServer(){this.restartServer=!this.restartServer}}};var A=a(3066),N=a(6778),T=a(151),V=a(5589),L=a(5096),B=a(9367),E=a(8240),H=a(3812),M=a(9570),U=a(3747),z=a(2901),Y=a(2652),j=a(677);const F=(0,h.Z)(O,[["render",d]]),J=F;y()(O,"components",{QLayout:A.Z,QDialog:N.Z,QCard:T.Z,QCardSection:V.Z,QAvatar:L.Z,QCardActions:B.Z,QBtn:E.Z,QHeader:H.Z,QToolbar:M.Z,QToolbarTitle:U.Z,QDrawer:z.Z,QPageContainer:Y.Z}),y()(O,"directives",{ClosePopup:j.Z})}}]);